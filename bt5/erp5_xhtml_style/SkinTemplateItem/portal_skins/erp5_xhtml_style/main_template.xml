<?xml version="1.0"?>
<ZopeData>
  <record id="1" aka="AAAAAAAAAAE=">
    <pickle>
      <tuple>
        <tuple>
          <string>Products.PageTemplates.ZopePageTemplate</string>
          <string>ZopePageTemplate</string>
        </tuple>
        <none/>
      </tuple>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>__ac_local_roles__</string> </key>
            <value>
              <none/>
            </value>
        </item>
        <item>
            <key> <string>_bind_names</string> </key>
            <value>
              <object>
                <klass>
                  <global name="NameAssignments" module="Shared.DC.Scripts.Bindings"/>
                </klass>
                <tuple/>
                <state>
                  <dictionary>
                    <item>
                        <key> <string>_asgns</string> </key>
                        <value>
                          <dictionary>
                            <item>
                                <key> <string>name_subpath</string> </key>
                                <value> <string>traverse_subpath</string> </value>
                            </item>
                          </dictionary>
                        </value>
                    </item>
                  </dictionary>
                </state>
              </object>
            </value>
        </item>
        <item>
            <key> <string>_text</string> </key>
            <value> <string encoding="cdata"><![CDATA[

<tal:block tal:replace="nothing"\n
           xmlns:tal="http://xml.zope.org/namespaces/tal"\n
           xmlns:metal="http://xml.zope.org/namespaces/metal"\n
           xmlns:i18n="http://xml.zope.org/namespaces/i18n">\n
<!--\n
Copyright (c) 2006 Nexedi SARL and Contributors. All Rights Reserved.\n
                   Vincent Pelletier <vincent@nexedi.com>\n
                   Christophe Dumez <christophe@nexedi.com>\n
\n
This program is Free Software; you can redistribute it and/or\n
modify it under the terms of the GNU General Public License\n
as published by the Free Software Foundation; either version 2\n
of the License, or (at your option) any later version.\n
\n
This program is distributed in the hope that it will be useful,\n
but WITHOUT ANY WARRANTY; without even the implied warranty of\n
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n
GNU General Public License for more details.\n
\n
You should have received a copy of the GNU General Public License\n
along with this program; if not, write to the Free Software\n
Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.\n
\n
IDEAS:\n
 - Add callbacks to ERP5Form object (selection ?) to gather needed fields -> put them in http_parameter_list.\n
-->\n
</tal:block>\n
<tal:block metal:define-macro="master">\n
<tal:block tal:condition="python: \'login_form\' not in request.get(\'URL\') and request.has_key(\'came_from\')">\n
  <tal:block tal:define="dummy python: request.RESPONSE.redirect(request.get(\'came_from\'))" />\n
</tal:block>\n
<tal:block tal:condition="form/pt | nothing">\n
  <tal:block tal:define="global list_mode python: form[\'pt\'] == \'form_list\';\n
                         global listmode_default_listbox python: here.ERP5Site_getListbox(form=form)" />\n
</tal:block>\n
<tal:block tal:define="global actions python:here.getPortalObject().portal_actions.listFilteredActionsFor(here);\n
                       global form_id request/form_id | form/id | nothing;\n
                       global dialog_id form/id | template/id;\n
                       global field_errors python: request.get(\'field_errors\',{});\n
\n
                       global cancel_url request/cancel_url | request/HTTP_REFERER;\n
                       global form_action form_action | form/action | form/id | nothing;\n
                       global dialog_category request/dialog_category | nothing;\n
                       global url python: \'%s%s\' % (request[\'SERVER_URL\'], here.getPath(), );\n
                       global ignore_layout request/ignore_layout | python: 0;\n
\n
                       global selection_name request/selection_name | listmode_default_listbox/selection_name | nothing;\n
                       dummy python: selection_name and request.set(\'selection_name\', selection_name);\n
                       global selection_index request/selection_index | nothing;\n
                       global selection_url python: selection_name and here.portal_selections.getSelectionListUrlFor(selection_name,REQUEST=request) or None;\n
\n
                       current_url python: dialog_id and \'%s/%s\' % (url, dialog_id) or None;\n
                       global current_action python: current_url and here.ERP5Site_getCurrentAction(current_url, actions) or None;\n
                       form_pickle request/form_pickle | nothing;\n
                       form_signature request/form_signature | nothing;\n
                       field_id request/field_id | nothing;\n
                       object_uid here/getUid | nothing;\n
                       object_path here/getPath | nothing;\n
                       dummy python: request.set(\'here\',here);\n
\n
                       global http_parameter_list python: here.ERP5Site_getHTTPParameterList(request=request, form_id=form_id, dialog_id=dialog_id, selection_name=selection_name, selection_index=selection_index, selection_url=selection_url, cancel_url=cancel_url, form_action=form_action, dialog_method=form_action, dialog_category=dialog_category, form_pickle=form_pickle, form_signature=form_signature, field_id=field_id, object_uid=object_uid, object_path=object_path);\n
                       global http_parameters python: here.ERP5Site_renderHTTPParameterList(http_parameter_list);\n
\n
                       global css_list css_list | python: [];\n
                       dummy python: css_list.append(\'%s/erp5.css\' % (here.portal_url.getPortalPath(), ));\n
                       global js_list js_list | python: [];\n
                       dummy python: js_list.append(\'%s/erp5.js\' % (here.portal_url.getPortalPath(), ));\n
                       " />\n
<tal:block tal:condition="form/pt | nothing">\n
  <tal:block tal:define="global list_mode python: form[\'pt\'] == \'form_list\';\n
                         global listmode_default_listbox python: here.ERP5Site_getListbox(form=form)" />\n
</tal:block>\n
<?xml version="1.0" encoding="UTF-8"?>\n
<!DOCTYPE html\n
     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"\n
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">\n
<html xmlns="http://www.w3.org/1999/xhtml"\n
      xml:lang="en"\n
      lang="en">\n
  <head tal:define="dummy python:request.RESPONSE.setHeader(\'Content-Type\', \'text/html;; charset=utf-8\')">\n
    <base tal:attributes="href python: \'%s/\' % (url, )" />\n
    <meta name="description" content="Generated by ERP5" />\n
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\n
    <title tal:content="template/title_or_id"\n
           i18n:translate="" i18n:domain="ui"></title>\n
    <tal:block tal:repeat="css css_list">\n
      <link tal:attributes="href css"\n
            type="text/css"\n
            rel="stylesheet" />\n
    </tal:block>\n
    <tal:block tal:repeat="js js_list">\n
      <script tal:attributes="src js"\n
              type="text/javascript"></script>\n
    </tal:block>\n
  </head>\n
  <body>\n
    <form id="main_form"\n
          tal:attributes="enctype form/enctype | nothing;\n
                          action url;\n
                          method form/method | string:post">\n
      <div id="bars">\n
        <!-- Hidden button as explained in http://ppewww.ph.gla.ac.uk/~flavell/www/formquestion.html -->\n
        <!-- We should probably call the default method instead -->\n
        <input tal:condition="form_action | nothing"\n
               id="hidden_button" type="submit" value="dummy"\n
               tal:attributes="name python: \'%s:method\' % (form_action, )" />\n
        <!-- Generic way of specifying http parameters -->\n
        <tal:block tal:repeat="parameter http_parameter_list/items">\n
          <input tal:condition="python: parameter[1] is not None"\n
                 tal:attributes="name python: parameter[0];\n
                                 value python: parameter[1];" type="hidden" />\n
        </tal:block>\n
        <div id="main_bar">\n
          <span class="first">\n
            <span id="favourites">\n
              <select name="favorite_select"\n
                      tal:define="ordered_global_actions python:here.getOrderedGlobalActionList(actions[\'global\']);\n
                                  user_actions actions/user;"\n
                      tal:attributes="onChange string:submitAction(this.form,\'${url}/Base_doFavorite\')">\n
                <option selected="selected" value=""\n
                        i18n:translate="" i18n:domain="ui">My favourites</option>\n
                <tal:block tal:condition="ordered_global_actions">\n
                  <tal:block tal:repeat="action ordered_global_actions">\n
                    <option tal:condition="action/disabled"\n
                            disabled="disabled">-- <tal:block tal:content="action/title" i18n:translate="" i18n:domain="ui" /> --</option>\n
                    <tal:block tal:condition="not:action/disabled"\n
                              tal:define="name python: action.get(\'name\', \'\');\n
                                          index python: name.find(\' (\');">\n
                      <option tal:condition="python: index >= 0"\n
                              tal:attributes="value action/url"><tal:block tal:content="python: name[:index]" i18n:translate="" i18n:domain="ui"></tal:block><tal:block tal:replace="python: name[index:]" /></option>\n
                      <option tal:condition="python: index < 0"\n
                              tal:attributes="value action/url"\n
                              tal:content="action/name"\n
                              i18n:translate="" i18n:domain="ui"></option>\n
                    </tal:block>\n
                  </tal:block>\n
                </tal:block>\n
                <tal:block tal:condition="user_actions">\n
                  <option disabled="disabled">-- <tal:block i18n:translate="" i18n:domain="ui">User</tal:block> --</option>\n
                  <option tal:repeat="action user_actions"\n
                          tal:content="action/name"\n
                          tal:attributes="value action/url"\n
                          i18n:translate="" i18n:domain="ui"></option>\n
                </tal:block>\n
              </select>\n
              <button type="submit" name="Base_doFavorite:method">\n
                <span class="image"></span>\n
                <span class="description"\n
                      i18n:translate="" i18n:domain="ui">Select Favorite</span>\n
              </button>\n
            </span>\n
            <span id="modules">\n
              <select name="module_select"\n
                      tal:define="module_list here/ERP5Site_getModuleItemList;"\n
                      tal:attributes="onChange string:submitAction(this.form,\'${url}/Base_doModule\')">\n
                <option selected="selected" value=""\n
                        i18n:translate="" i18n:domain="ui">ERP5 Modules</option>\n
                <tal:block tal:repeat="module module_list">\n
                  <option value="something"\n
                          tal:attributes="value python: module[1]"\n
                          tal:content="python: module[0]" />\n
                </tal:block>\n
              </select>\n
              <button type="submit" name="Base_doModule:method">\n
                <span class="image"></span>\n
                <span class="description"\n
                      i18n:translate="" i18n:domain="ui">Select module</span>\n
              </button>\n
            </span>\n
          </span>\n
          <span class="second">\n
            <span id="language">\n
              <select name="language_select"\n
                      tal:attributes="onChange string:submitAction(this.form,\'${url}/Base_doLanguage\')">\n
                <option selected="selected" value=""\n
                        i18n:translate="" i18n:domain="ui">My language</option>\n
                <tal:block tal:repeat="language python: here.Localizer.get_languages_map()">\n
                  <option tal:attributes="value language/id;\n
                                          selected python: language[\'selected\'] and \'selected\' or nothing;"\n
                          tal:content="python: here.Localizer.erp5_ui.gettext(language[\'title\'], lang=language[\'id\'])"></option>\n
                </tal:block>\n
              </select>\n
              <button type="submit" name="Base_doLanguage:method">\n
                <span class="image"></span>\n
                <span class="description"\n
                      i18n:translate="" i18n:domain="ui">Select language</span>\n
              </button>\n
            </span>\n
            <span id="search">\n
              <input type="text" name="SearchableText" />\n
              <button type="submit" name="Base_viewSearchResultList:method">\n
                <span class="image"></span>\n
                <span class="description"\n
                      i18n:translate="" i18n:domain="ui">Search</span>\n
              </button>\n
            </span>\n
          </span>\n
          <hr class="clear" />\n
        </div>\n
        <div id="context_bar">\n
          <tal:block metal:define-slot="context_bar" />\n
        </div>\n
      </div>\n
      <div id="status">\n
        <div id="breadcrumb">\n
          <tal:block tal:repeat="item here/breadcrumbs">\n
            <tal:block tal:condition="python: repeat[\'item\'].index < 2">\n
              <a tal:attributes="href item/url"\n
                 tal:content="item/title"\n
                 i18n:translate="" i18n:domain="ui"></a>\n
            </tal:block>\n
            <tal:block tal:condition="python: repeat[\'item\'].index >= 2">\n
              <a tal:attributes="href item/url"\n
                 tal:content="item/title"></a>\n
            </tal:block>\n
            /\n
          </tal:block>\n
        </div>\n
        <div id="logged_in_as">\n
          <tal:block tal:condition="not: here/portal_membership/isAnonymousUser">\n
            <tal:block i18n:translate="" i18n:domain="ui">Logged In as </tal:block> :\n
            <tal:block tal:replace="python:here.portal_membership.getAuthenticatedMember().getUserName()" />\n
          </tal:block>\n
        </div>\n
        <hr class="clear" />\n
        <div tal:content="structure here/REQUEST/portal_status_message | nothing"\n
             id="transition_message"></div>\n
      </div>\n
      <div id="master">\n
        <tal:block metal:define-slot="main" />\n
      </div>\n
    </form>\n
  </body>\n
</html>\n
</tal:block>

]]></string> </value>
        </item>
        <item>
            <key> <string>content_type</string> </key>
            <value> <string>text/html</string> </value>
        </item>
        <item>
            <key> <string>expand</string> </key>
            <value> <int>0</int> </value>
        </item>
        <item>
            <key> <string>id</string> </key>
            <value> <string>main_template</string> </value>
        </item>
        <item>
            <key> <string>title</string> </key>
            <value> <string></string> </value>
        </item>
      </dictionary>
    </pickle>
  </record>
</ZopeData>
