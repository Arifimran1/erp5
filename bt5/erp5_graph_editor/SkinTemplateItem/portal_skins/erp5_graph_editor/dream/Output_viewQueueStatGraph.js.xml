<?xml version="1.0"?>
<ZopeData>
  <record id="1" aka="AAAAAAAAAAE=">
    <pickle>
      <global name="File" module="OFS.Image"/>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>_EtagSupport__etag</string> </key>
            <value> <string>ts17681763.37</string> </value>
        </item>
        <item>
            <key> <string>__name__</string> </key>
            <value> <string>Output_viewQueueStatGraph.js</string> </value>
        </item>
        <item>
            <key> <string>content_type</string> </key>
            <value> <string>application/javascript</string> </value>
        </item>
        <item>
            <key> <string>data</string> </key>
            <value> <string>/*global rJS, jQuery, initGadgetMixin */\n
/*jslint nomen: true, unparam: true */\n
(function(window, rJS, $, initGadgetMixin) {\n
    "use strict";\n
    function queue_stat_widget(output_data) {\n
        /* FIXME: does not support more than one replic.\n
     * + see george email to integrate without the need of an EG\n
     */\n
        var series = [];\n
        $.each(output_data.elementList, function(idx, el) {\n
            if (el.family === "Buffer") {\n
                series.push({\n
                    label: el.name || el.id,\n
                    data: el.results.wip_stat_list\n
                });\n
            }\n
        });\n
        return series;\n
    }\n
    var gadget_klass = rJS(window);\n
    initGadgetMixin(gadget_klass);\n
    gadget_klass.declareAcquiredMethod("aq_getAttachment", "jio_getAttachment").declareMethod("render", function(options) {\n
        var jio_key = options.id, gadget = this;\n
        gadget.props.jio_key = jio_key;\n
        gadget.props.result = options.result;\n
        return gadget.aq_getAttachment({\n
            _id: gadget.props.jio_key,\n
            _attachment: "simulation.json"\n
        }).push(function(simulation_json) {\n
            gadget.props.series = queue_stat_widget(JSON.parse(simulation_json)[gadget.props.result].result);\n
        });\n
    }).declareMethod("startService", function() {\n
        // XXX Manually calculate width and height when resizing\n
        $.plot(this.props.element.querySelector(".graph_container"), this.props.series);\n
    });\n
})(window, rJS, jQuery, initGadgetMixin);</string> </value>
        </item>
        <item>
            <key> <string>precondition</string> </key>
            <value> <string></string> </value>
        </item>
        <item>
            <key> <string>size</string> </key>
            <value> <int>1519</int> </value>
        </item>
        <item>
            <key> <string>title</string> </key>
            <value> <string></string> </value>
        </item>
      </dictionary>
    </pickle>
  </record>
</ZopeData>
