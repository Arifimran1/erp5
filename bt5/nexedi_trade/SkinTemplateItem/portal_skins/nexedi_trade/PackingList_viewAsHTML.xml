<?xml version="1.0"?>
<ZopeData>
  <record id="1" aka="AAAAAAAAAAE=">
    <pickle>
      <tuple>
        <tuple>
          <string>Products.PageTemplates.ZopePageTemplate</string>
          <string>ZopePageTemplate</string>
        </tuple>
        <none/>
      </tuple>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>__ac_local_roles__</string> </key>
            <value>
              <none/>
            </value>
        </item>
        <item>
            <key> <string>_bind_names</string> </key>
            <value>
              <object>
                <klass>
                  <global name="NameAssignments" module="Shared.DC.Scripts.Bindings"/>
                </klass>
                <tuple/>
                <state>
                  <dictionary>
                    <item>
                        <key> <string>_asgns</string> </key>
                        <value>
                          <dictionary>
                            <item>
                                <key> <string>name_subpath</string> </key>
                                <value> <string>traverse_subpath</string> </value>
                            </item>
                          </dictionary>
                        </value>
                    </item>
                  </dictionary>
                </state>
              </object>
            </value>
        </item>
        <item>
            <key> <string>_text</string> </key>
            <value> <string encoding="cdata"><![CDATA[

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">\n
\n
<html>\n
\n
\t<head>\n
\t\t<meta http-equiv="content-type" content="text/html;charset=ISO-8859-1">\n
\t\t<title tal:content="here/getTitle">Nexedi</title>\n
\n
\t</head>\n
\n
\t<body bgcolor="#ffffff"\n
                tal:define="client_invoice python:here.getDefaultValue(\'destination\',portal_type=[\'Organisation\',\'Person\']);\n
                client_delivery python:here.getDefaultValue(\'destination\',portal_type=[\'Organisation\',\'Person\']);\n
\n
from_organisation python:here.restrictedTraverse(\'/nexedi/organisation/nexedi\');\n
                            order python:here.getDefaultValue(\'causality\',portal_type=[\'Sale Order\']);\n
                            buyer python:order.getDefaultValue(\'contact\',portal_type=[\'Person\']);\n
                            ordered_lines python:here.objectValues();\n
                            total_price python: here.getTotalPrice();\n
\t\t\t    vat python: request.get(\'vat\',\'0.196\');\n
                            total_vat python: here.getTotalPrice() * float(vat)">\n
\n
\n
  <table width=100%>\n
  <tr>\n
    <td align=left tal:content="python: from_organisation.getTitle()"/>\n
    <td align=right tal:content="python: \'Tel : %s\' % from_organisation.getDefaultTelephone().asText()"/>\n
  </tr>\n
  <tr>\n
    <td tal:content="python: from_organisation.getDefaultAddress().getStreetAddress()"/>\n
  </tr>\n
  <tr>\n
    <td tal:content="python: \'%s %s\' %\n
                             (from_organisation.getDefaultAddress().getZipCode(),\n
                             from_organisation.getDefaultAddress().getCity())"/>\n
  </tr>\n
\n
  <tr>\n
    <th colspan=3>\n
      <h2>INVOICE</h2>\n
    </th>\n
  </tr>\n
\n
  </table>\n
\n
    <table width=100%>\n
    <tr>\n
      <td align=right tal:content="python: \'Invoice Date : %s\' % here.getStartDate()"/>\n
    </tr>\n
\n
    <tr>\n
      <td align=right tal:content="python: \'Pay Before : %s\' % here.getTargetStartDate()"/>\n
    </tr>\n
\n
    <tr>\n
      <td align=right tal:content="python: \'Invoice N\xc2\xb0 : %s\' % here.getId()"/>\n
    </tr>\n
\n
    <tr>\n
      <td>&nbsp;</td>\n
    </tr>\n
    </table>\n
\n
    <table width=100%>\n
    <tr bgcolor=000000>\n
      <th align=left><font color=ffffff>INVOICE ADDRESS</th>\n
      <th align=left><font color=ffffff>DELIVERY ADDRESS</th>\n
    </tr>\n
\n
    <tr>\n
      <td align=left tal:content="python: client_invoice.getTitle()"/>\n
      <td align=left tal:content="python: client_delivery.getTitle()"/>\n
    </tr>\n
    <tr>\n
      <td align=left tal:content="python: client_invoice.getDefaultAddress().getStreetAddress()"/>\n
      <td align=left tal:content="python: client_delivery.getDefaultAddress().getStreetAddress()"/>\n
    </tr>\n
    <tr>\n
      <td align=left tal:content="python: \'%s %s\' %\n
                             (client_invoice.getDefaultAddress().getZipCode(),\n
                             client_invoice.getDefaultAddress().getCity())"/>\n
      <td align=left tal:content="python: \'%s %s\' %\n
                             (client_delivery.getDefaultAddress().getZipCode(),\n
                             client_delivery.getDefaultAddress().getCity())"/>\n
    </tr>\n
    </table>\n
\n
    <table width=100%>\n
    <tr bgcolor=000000>\n
\n
     <th align=left><font color=ffffff>N\xc2\xb0</th>\n
      <th align=left><font color=ffffff>Description</th>\n
      <th><font color=ffffff>Quantity</th>\n
      <th>&nbsp;</th>\n
      <th><font color=ffffff>Unit_Price</th>\n
      <th><font color=ffffff>Price</th>\n
    </tr>\n
\n
    <span tal:repeat="ligne ordered_lines">\n
    <tr valign=top tal:condition="python:ligne.getQuantity()>0">\n
\n
      <td align=left tal:content="python:ligne.getId()"></td>\n
<!--      <td> </td> -->\n
      <td tal:content="python: ligne.getResourceTitle()"></td>\n
      <td align=right tal:content="python: \'%.0f\' % ligne.getQuantity()"></td>\n
      <td>n/a</td>\n
      <td align=right tal:content="python: \'%.0f\' % ligne.getPrice()"></td>\n
      <td align=right\n
         tal:define="line_price python: float(float(ligne.getPrice())*float(ligne.getQuantity()));\n
             total_price python: total_price + line_price"\n
         tal:content="python: \'%.0f\' % line_price"></td>\n
    </tr>\n
    </span>\n
\n
\n
    <tr>\n
      <td colspan=6><hr noshade></td>\n
    </tr>\n
\n
    <tr>\n
      <th colspan=4 align=right>Total</th>\n
      <td colspan=2 align=right tal:content="python: total_price"></td>\n
    </tr>\n
\n
    <tr>\n
      <th colspan=4 align=right tal:content="python: \'TVA \' + str(vat) + \' %\'"></th>\n
      <td colspan=2 align=right tal:content="python: total_vat"></td>\n
    </tr>\n
\n
\n
    <tr>\n
      <td colspan=3>&nbsp;</td>\n
      <td colspan=3><hr noshade></td>\n
    </tr>\n
\n
    <tr>\n
      <td colspan=3>A r\xc3\xa9gler dans <b>0</b> jours au plus tard.\n
<br><font size="-3">Conditions de r\xc3\xa9glement: par ch\xc3\xa8que, \xc3\xa0 0 jours date de la facture. Paiement accept\xc3\xa9 en euros.\n
Tout retard de r\xc3\xa8glement donnera lieu \xc3\xa0 une p\xc3\xa9nalit\xc3\xa9 de 1,5% du montant d\xc3\xbb par mois.\n
R\xc3\xa9serve de propri\xc3\xa9t\xc3\xa9: nous conservons la pleine propri\xc3\xa9t\xc3\xa9 des marchandises jusqu\'au paiement int\xc3\xa9gral du prix, des taxes et accessoires.</font></td>\n
      <th colspan=2 align=right>Total \xc3\xa0 payer</th>\n
      <th colspan=1 align=right tal:content="python: total_price + total_vat"></th>\n
    </tr>\n
\n
    <tr>\n
      <td>&nbsp;</td>\n
    </tr>\n
\n
    </table>\n
\n
<table width="100%">\n
<tr>\n
       <td><center><h6>RCS Roubaix Tourcoing 440 047 504<br>\n
 Banque:&nbsp;30027&nbsp;Guichet:&nbsp;00039&nbsp;Compte:&nbsp;00000013323&nbsp;RIB:&nbsp;36<br>IBAN: FR76 3002 7175 3900 0410 2760 135<br>\n
VAT FR72440047504</h6></center></td>\n
</tr>\n
</table>\n
\n
\n
\n
</body>\n
\n
</html>

]]></string> </value>
        </item>
        <item>
            <key> <string>id</string> </key>
            <value> <string>PackingList_viewAsHTML</string> </value>
        </item>
      </dictionary>
    </pickle>
  </record>
</ZopeData>
