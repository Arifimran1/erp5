<?xml version="1.0"?>
<ZopeData>
  <record id="1" aka="AAAAAAAAAAE=">
    <pickle>
      <tuple>
        <global name="ZopePageTemplate" module="Products.PageTemplates.ZopePageTemplate"/>
        <tuple/>
      </tuple>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>__ac_local_roles__</string> </key>
            <value>
              <none/>
            </value>
        </item>
        <item>
            <key> <string>_bind_names</string> </key>
            <value>
              <object>
                <klass>
                  <global name="NameAssignments" module="Shared.DC.Scripts.Bindings"/>
                </klass>
                <tuple/>
                <state>
                  <dictionary>
                    <item>
                        <key> <string>_asgns</string> </key>
                        <value>
                          <dictionary>
                            <item>
                                <key> <string>name_subpath</string> </key>
                                <value> <string>traverse_subpath</string> </value>
                            </item>
                          </dictionary>
                        </value>
                    </item>
                  </dictionary>
                </state>
              </object>
            </value>
        </item>
        <item>
            <key> <string>_owner</string> </key>
            <value>
              <none/>
            </value>
        </item>
        <item>
            <key> <string>_text</string> </key>
            <value> <string encoding="cdata"><![CDATA[

<!--\n
    Description:\n
    This macro render a contribution upload panel.\n
    -->\n
\n
<tal:block metal:define-macro="main">\n
<tal:block tal:define="global web_site_url web_site_url | nothing"/>\n
<tal:block tal:condition="not:web_site_url">\n
  <tal:block metal:use-macro="here/global_definitions/macros/header_definitions"/>\n
</tal:block>\n
\n
<div class="tabber" id="mytabber2">\n
  <div class="tabbertab">\n
    <h2 i18n:translate="" i18n:domain="ui">Contribute</h2>\n
    <div class="fieldset">\n
      <div>\n
        <label for="contribute_portal_type" i18n:translate="" i18n:domain="ui">Type</label>\n
        <select size="1" name="contribute_portal_type" id="portal_type" onchange="toggleMakeTemplateButton(this);">\n
          <option value="" i18n:translate="" i18n:domain="ui">-- Select Document Type --</option>\n
          <tal:block tal:repeat="ptype here/getPortalTemplateDocumentTypeList">\n
            <option \n
                  tal:content="ptype" tal:attributes="value ptype"\n
                  value="" i18n:translate="" i18n:domain="ui">Report</option>\n
          </tal:block>\n
          <option value="" i18n:translate="" i18n:domain="ui">-- Any other Document Type --</option>\n
        </select>\n
        <input type="file" name="contribute_file" size="30" />\n
      </div>\n
      <!--<a onclick="setMailString();" id="mail_contribute_button" href="mailto:dms@dms.nexedi.com?subject=Contribution&body=">\n
        <img src="au_icons/kmail.png" align="right" alt="contribute by mail" title="contribute by mail"/>\n
      </a>-->\n
      <div style="float:left"\n
           tal:define="contribute_prefix string:contribute_">\n
        <div metal:use-macro="here/WebSite_viewContributePropertyRenderer/macros/contribute_properties">\n
          Theme\n
        </div>\n
      </div>\n
      \n
      <div style="float:right; margin-top:10px;">\n
      <a onclick="setMailString();"  id="mail_contribute_button"\n
         href="mailto:dms@dms.nexedi.com?subject=Contribution&body="\n
         tal:define="ingestion_address here/portal_preferences/getPreferredDocumentEmailIngestionAddress|nothing"\n
         tal:condition="ingestion_address"\n
         tal:attributes="href string:${ingestion_address}?subject=Contribution&body=">\n
        <img src="send_by_mail" border="0"/>\n
        <tal:block  i18n:translate="" i18n:domain="ui">Click here to contribute by Email</tal:block></a>\n
      &nbsp;\n
      <input i18n:domain="ui" i18n:attributes="value" type="submit" name="Memo_makeOOoTemplate:method" value="Make Template" id="maketemplatebutton" disabled="disabled"\n
             style="width:100px;background-image:none;"/>\n
      &nbsp;\n
      <input i18n:domain="ui" i18n:attributes="value" type="submit" name="WebSite_contributeContent:method" value="Contribute"/>\n
    </div>\n
      \n
      \n
    </div>\n
    \n
    <div class="clear"></div>\n
  </div>\n
  \n
  <div class="tabbertab">\n
    <h2 i18n:translate="" i18n:domain="ui">Link</h2>\n
    <div class="fieldset tabbertabcont">\n
      <div>\n
        <label for="url" value="" i18n:translate="" i18n:domain="ui">URL</label>\n
        <input type="text" name="link_url" id="url" size="80" value="http://" />\n
        <a href="" target="_blank" onclick="return setLink(this)" value="" i18n:translate="" i18n:domain="ui">preview</a>\n
      </div>\n
      <tal:block tal:define="contribute_prefix string:link_">\n
        <div metal:use-macro="here/WebSite_viewContributePropertyRenderer/macros/contribute_properties">\n
          Theme\n
        </div>\n
      </tal:block>\n
      <div>\n
        <label for="link_description" value="" i18n:translate="" i18n:domain="ui">Description</label>\n
        <textarea cols="80" rows="2" name="link_description"></textarea>\n
      </div>\n
    </div>\n
    <input i18n:domain="ui" i18n:attributes="value" style="float:right" type="submit" name="WebSite_linkContent:method" value="Contribute"/>\n
    <div class="clear"></div>\n
  </div>\n
  \n
  <div class="tabbertab"\n
    tal:define="user here/portal_membership/getAuthenticatedMember">\n
    <h2 value="" i18n:translate="" i18n:domain="ui">File</h2>\n
\n
    <tal:block tal:repeat="file_group python:[\n
              dict(\n
               portal_type_list = here.getPortalTicketTypeList(),\n
               id = \'ticket\',\n
               title = \'Forms and Requests:\',\n
              ),\n
              dict(\n
               portal_type_list = here.getPortalNodeTypeList(),\n
               id = \'node\',\n
               title = \'People and Projects:\',\n
              ),\n
              dict(\n
               portal_type_list = here.getPortalWebDocumentTypeList(),\n
               id = \'web\',\n
               title = \'Online Content:\',\n
              ),\n
              dict(\n
               portal_type_list = here.getPortalFileDocumentTypeList() + here.getPortalTemplateDocumentTypeList(),\n
               id = \'content\',\n
               title = \'Offline Content:\',\n
              ),\n
]">\n
\n
      <div class="filebox" id="administration" class="tabbertabcont" tal:attributes="id file_group/id">\n
        <ul>\n
          <li class="listheader" value="" tal:content="file_group/title"\n
              i18n:translate="" i18n:domain="ui">Forms and Requests:</li>\n
          <ul tal:condition="not:file_group/portal_type_list">\n
            <i i18n:translate="" i18n:domain="ui">Not available</i>\n
          </ul>\n
          <ul tal:condition="file_group/portal_type_list">\n
            <tal:block tal:repeat="portal_type file_group/portal_type_list">\n
              <li tal:condition="python:here.ERP5Site_isNewContentAllowed(portal_type, user)">\n
                <a tal:content="portal_type"\n
                  i18n:translate="" i18n:domain="ui"\n
                  tal:attributes="href string:ERP5Site_newContent?portal_type=${portal_type}">Toto</a>\n
              </li>\n
            </tal:block>\n
          </ul>\n
        </ul>\n
      </div>\n
\n
    </tal:block>\n
\n
    <div class="clear"></div>\n
  </div>\n
</div>\n
\n
</tal:block>\n


]]></string> </value>
        </item>
        <item>
            <key> <string>content_type</string> </key>
            <value> <string>text/html</string> </value>
        </item>
        <item>
            <key> <string>expand</string> </key>
            <value> <int>0</int> </value>
        </item>
        <item>
            <key> <string>id</string> </key>
            <value> <string>WebSite_viewContributeRenderer</string> </value>
        </item>
        <item>
            <key> <string>title</string> </key>
            <value> <string></string> </value>
        </item>
      </dictionary>
    </pickle>
  </record>
</ZopeData>
