<?xml version="1.0"?>
<ZopeData>
  <record id="1" aka="AAAAAAAAAAE=">
    <pickle>
      <tuple>
        <tuple>
          <string>Products.PageTemplates.ZopePageTemplate</string>
          <string>ZopePageTemplate</string>
        </tuple>
        <none/>
      </tuple>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>__ac_local_roles__</string> </key>
            <value>
              <none/>
            </value>
        </item>
        <item>
            <key> <string>_bind_names</string> </key>
            <value>
              <object>
                <klass>
                  <global name="NameAssignments" module="Shared.DC.Scripts.Bindings"/>
                </klass>
                <tuple/>
                <state>
                  <dictionary>
                    <item>
                        <key> <string>_asgns</string> </key>
                        <value>
                          <dictionary>
                            <item>
                                <key> <string>name_subpath</string> </key>
                                <value> <string>traverse_subpath</string> </value>
                            </item>
                          </dictionary>
                        </value>
                    </item>
                  </dictionary>
                </state>
              </object>
            </value>
        </item>
        <item>
            <key> <string>_text</string> </key>
            <value> <string encoding="cdata"><![CDATA[

<tal:block metal:define-macro="master"\n
 tal:define="document context/WebSite_getDocumentValue;"\n
 tal:condition="python: (is_section and valid_default_doc and not is_edit_mode) or is_webdoc">\n
\n
<form name="tool_create" method="post" action="WebSite_newContent">\n
\n
  <input id="document_action_mode" name="document_action_mode" value="clone" type="hidden"/>\n
\n
  <h3>\n
    <span id="create_new_document_title"></span>\n
    <span id="clone_document_title">Clone <tal:block tal:content="python: (is_section and \'Default \') or \'Current \'"/>Page</span>\n
  </h3>\n
\n
<table cellspacing="1" cellpadding="0" border="0">\n
  <tr>\n
    <td>Title</td>\n
    <td><input class="input" size="20" type="text" name="title"     tal:attributes="value document/getTitle | nothing"/></td>\n
  </tr>\n
  <tr>\n
    <td>Page URI</td>\n
    <td><input class="input" size="20" type="text" name="reference" tal:attributes="value document/getReference | nothing"/></td>\n
  </tr>\n
  <tr>\n
    <td>Version</td>\n
    <td><input class="input" size="5"  type="text" name="version"   tal:attributes="value document/getVersion | nothing"/></td>\n
  </tr>\n
  <tr>\n
    <td>Language</td>\n
    <td><input class="input" size="5"  type="text" name="language"  tal:attributes="value document/getLanguage | nothing"/></td>\n
      <!--select name="language" size="1"\n
              tal:define="language_map python: here.Localizer.get_languages_map()">\n
        <tal:block tal:repeat="language language_map">\n
          <tal:block tal:condition="python: document.getLanguage() == language[\'id\'] or language[\'selected\']">\n
            <option tal:attributes="value language/id"\n
                    tal:content="language/id"\n
                    selected/>\n
          </tal:block>\n
          <tal:block tal:condition="python: not(document.getLanguage() == language[\'id\'] or language[\'selected\'])">\n
            <option tal:attributes="value language/id"\n
                    tal:content="language/id"/>\n
          </tal:block>\n
        </tal:block>\n
      </select-->\n
  </tr>\n
\n
  <script type="text/javascript" language="JavaScript">\n
  <!--\n
    // preload action icons\n
    if (document.images) {\n
      clone_icon = new Image();\n
      new_icon   = new Image();\n
      clone_icon.src = "pictures/clone-document.png";\n
      new_icon.src   = "pictures/new-document.png";\n
    }\n
\n
    function setCreationMode (sel) {\n
      // default is cloning\n
      var action      = \'clone\';\n
      var action_name = \'Clone &amp; Edit\';\n
      var icon        = \'clone-document.png\';\n
      var clone_class = \'\';\n
      var new_title   = \'\';\n
\n
      // a portal type is given, so create a new document\n
      var portal_type = sel.options[sel.selectedIndex].value;\n
      if (portal_type != \'None\') {\n
        action      = \'new\'\n
        action_name = \'Create New &amp; Edit\';\n
        icon        = \'new-document.png\';\n
        clone_class = \'doNotDisplay\';\n
        new_title   = \'Create New Document\';\n
      }\n
\n
      // update action dependent values\n
      document.getElementById(\'document_action_mode\'     ).value     = action;\n
      document.getElementById(\'create_new_document_title\').innerHTML = new_title;\n
      document.getElementById(\'clone_document_title\'     ).className = clone_class;\n
      document.getElementById(\'duplicate_document_action\').innerHTML = action_name;\n
\n
      // replace the action icon\n
      document.getElementById(\'clone_action_icon\').src = eval(action + "_icon.src");\n
\n
      // update action button alt & title\n
      var button   = document.getElementById(\'clone_action_button\');\n
      button.alt   = action_name;\n
      button.title = action_name;\n
    }\n
  -->\n
  </script>\n
\n
  <tr>\n
    <td>Type</td>\n
    <td>\n
      <select class="input" name="new_portal_type" size="1" onchange="setCreationMode(this)">\n
        <option value="None" selected>&mdash; Same as Current &mdash;</option>\n
        <tal:block tal:repeat="portal_type python: here.portal_types.objectValues()">\n
          <option tal:condition="python: \'web_document\' in getattr(portal_type, \'group_list\', [])"\n
                  tal:content="portal_type/id"\n
                  tal:attributes="value portal_type/id"/>\n
        </tal:block>\n
      </select>\n
    </td>\n
  </tr>\n
  <tr>\n
    <td colspan="2" class="centeredInner">\n
      <button alt=\'Clone &amp; Edit\' id="clone_action_button" title=\'Clone &amp; Edit\'><img src="pictures/clone-document.png" id="clone_action_icon"/> <span id="duplicate_document_action">Clone &amp; Edit</span></button>\n
      <!--input type="image" alt="Clone &amp; Edit" title="Clone &amp; Edit" src="pictures/clone-document.png" id="clone_action_icon"/> <span id="duplicate_document_action">Clone &amp; Edit</span-->\n
    </td>\n
  </tr>\n
</table>\n
\n
</form>\n
\n
</tal:block>

]]></string> </value>
        </item>
        <item>
            <key> <string>content_type</string> </key>
            <value> <string>text/html</string> </value>
        </item>
        <item>
            <key> <string>expand</string> </key>
            <value> <int>0</int> </value>
        </item>
        <item>
            <key> <string>id</string> </key>
            <value> <string>admin_tool_duplicate_document</string> </value>
        </item>
        <item>
            <key> <string>title</string> </key>
            <value> <string></string> </value>
        </item>
      </dictionary>
    </pickle>
  </record>
</ZopeData>
