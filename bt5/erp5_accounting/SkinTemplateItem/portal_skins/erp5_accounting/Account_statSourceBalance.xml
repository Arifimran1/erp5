<?xml version="1.0"?>
<ZopeData>
  <record id="1" aka="AAAAAAAAAAE=">
    <pickle>
      <tuple>
        <tuple>
          <string>Products.PythonScripts.PythonScript</string>
          <string>PythonScript</string>
        </tuple>
        <none/>
      </tuple>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>Python_magic</string> </key>
            <value> <string encoding="base64">O/INCg==</string> </value>
        </item>
        <item>
            <key> <string>Script_magic</string> </key>
            <value> <int>3</int> </value>
        </item>
        <item>
            <key> <string>__ac_local_roles__</string> </key>
            <value>
              <none/>
            </value>
        </item>
        <item>
            <key> <string>_bind_names</string> </key>
            <value>
              <object>
                <klass>
                  <global name="NameAssignments" module="Shared.DC.Scripts.Bindings"/>
                </klass>
                <tuple/>
                <state>
                  <dictionary>
                    <item>
                        <key> <string>_asgns</string> </key>
                        <value>
                          <dictionary>
                            <item>
                                <key> <string>name_container</string> </key>
                                <value> <string>container</string> </value>
                            </item>
                            <item>
                                <key> <string>name_context</string> </key>
                                <value> <string>context</string> </value>
                            </item>
                            <item>
                                <key> <string>name_m_self</string> </key>
                                <value> <string>script</string> </value>
                            </item>
                            <item>
                                <key> <string>name_subpath</string> </key>
                                <value> <string>traverse_subpath</string> </value>
                            </item>
                          </dictionary>
                        </value>
                    </item>
                  </dictionary>
                </state>
              </object>
            </value>
        </item>
        <item>
            <key> <string>_body</string> </key>
            <value> <string>params = {}\n
if kw.has_key(\'where_expression\'):\n
  params[\'where_expression\'] = kw[\'where_expression\']\n
if kw.get(\'resource\'):\n
  try: params[\'resource_uid\'] = context.restritedTraverse(selection_params[\'resource\']).getUid()\n
  except (KeyError, AttributeError): pass\n
\n
# read settings from user preference\n
preference = context.getPortalObject().portal_preferences\n
from_date = kw.get(\'from_date\', preference.getPreferredAccountingTransactionFromDate())\n
if from_date :\n
  params[\'from_date\'] = from_date\n
at_date =  kw.get(\'at_date\', preference.getPreferredAccountingTransactionAtDate())\n
if at_date :\n
  params[\'at_date\'] = at_date\n
simulation_state = preference.getPreferredAccountingTransactionSimulationStateList()\n
if simulation_state :\n
  params[\'transaction_simulation_state\'] = simulation_state\n
section_category = preference.getPreferredAccountingTransactionSectionCategory()\n
if section_category :\n
  params[\'transaction_section_category\'] = section_category\n
\n
if kw.get(\'omit_input\') :\n
  params[\'omit_input\'] = 1\n
if kw.get(\'omit_output\') :\n
  params[\'omit_output\'] = 1\n
\n
MARKER = []\n
kw = selection.getParams()\n
source_payment_uid = kw.get(\'source_payment_uid\', MARKER)\n
if source_payment_uid is not MARKER:\n
  params[\'source_payment_uid\'] = source_payment_uid\n
no_source_payment = kw.get(\'no_source_payment_uid\', MARKER)\n
if no_source_payment is not MARKER:\n
  params[\'no_source_payment_uid\'] = 1\n
\n
destination_section_uid = kw.get(\'destination_section_uid\', MARKER)\n
if destination_section_uid is not MARKER:\n
  params[\'destination_section_uid\'] = destination_section_uid\n
no_destination_section = kw.get(\'no_destination_section\', MARKER)\n
if no_destination_section is not MARKER:\n
  params[\'no_destination_section\'] = 1\n
\n
params[\'node_uid\'] = kw.get(\'node_uid\', context.getUid())\n
\n
if kw.get(\'from_date_summary\', 0) :\n
  if params.has_key(\'from_date\'):\n
    del params[\'from_date\']\n
\n
#context.log("SQL with %s \\n" % params, context.Account_zGetTotalQuantity(src__=1, **params))\n
result = context.Account_zGetTotalQuantity(**params)\n
row = result[0]\n
return float(\'%.02f\' % (row.quantity or 0.0) )\n
</string> </value>
        </item>
        <item>
            <key> <string>_code</string> </key>
            <value> <string encoding="base64">YwAAAAAAAAAAAQAAAEAAAABzDQAAAGQBAIQAAFoAAGQAAFMoAgAAAE5jAQAAABgAAAAzAAAASwAA
AHOlAwAAaAAAfQIAdAEAfAEAZAEAgwIAZAIAgwEAbx0AAXQDAHwBAGQCAIMCAHQEAHwCAIMBAGQC
ADxuAQABdAEAfAEAZAMAgwIAZAQAgwEAb1gAAXk4AHQBAHQBAHQFAGQFAIMCAHQDAHQGAGQEAIMC
AIMBAGQGAIMCAIMAAHQEAHwCAIMBAGQHADxXcacABHQHAHQIAGYCAGoKAG8HAAEBAQFxpwABWG4B
AAF0AQB0AQB0BQBkCACDAgCDAABkCQCDAgB9CgB0AQB8AQBkAwCDAgBkCgB0AQB8CgBkCwCDAgCD
AACDAgB9CwB8CwBvFAABfAsAdAQAfAIAgwEAZAoAPG4BAAF0AQB8AQBkAwCDAgBkDAB0AQB8CgBk
DQCDAgCDAACDAgB9DAB8DABvFAABfAwAdAQAfAIAgwEAZAwAPG4BAAF0AQB8CgBkDgCDAgCDAAB9
DQB8DQBvFAABfA0AdAQAfAIAgwEAZA8APG4BAAF0AQB8CgBkEACDAgCDAAB9DgB8DgBvFAABfA4A
dAQAfAIAgwEAZBEAPG4BAAF0AQB8AQBkAwCDAgBkEgCDAQBvFAABZBMAdAQAfAIAgwEAZBIAPG4B
AAF0AQB8AQBkAwCDAgBkFACDAQBvFAABZBMAdAQAfAIAgwEAZBQAPG4BAAFnAAB9DwB0AQB8AABk
FQCDAgCDAAB9AQB0AQB8AQBkAwCDAgBkFgB8DwCDAgB9EAB8EAB8DwBqCQBvFAABfBAAdAQAfAIA
gwEAZBYAPG4BAAF0AQB8AQBkAwCDAgBkFwB8DwCDAgB9EQB8EQB8DwBqCQBvFAABZBMAdAQAfAIA
gwEAZBcAPG4BAAF0AQB8AQBkAwCDAgBkGAB8DwCDAgB9EgB8EgB8DwBqCQBvFAABfBIAdAQAfAIA
gwEAZBgAPG4BAAF0AQB8AQBkAwCDAgBkGQB8DwCDAgB9EwB8EwB8DwBqCQBvFAABZBMAdAQAfAIA
gwEAZBkAPG4BAAF0AQB8AQBkAwCDAgBkGgB0AQB0BQBkBgCDAgCDAACDAgB0BAB8AgCDAQBkGgA8
dAEAfAEAZAMAgwIAZBsAZBwAgwIAbysAAXQBAHwCAGQBAIMCAGQKAIMBAG8RAAF0BAB8AgCDAQBk
CgA9cVwDAW4BAAF0FAB0AQB0BQBkHQCDAgB8AgCNAQB9FQB0AwB8FQBkHACDAgB9FgB0FwBkHgB0
AQB8FgBkHwCDAgBwBAABZCAAFoMBAFNkAABTKCEAAABOcwcAAABoYXNfa2V5cxAAAAB3aGVyZV9l
eHByZXNzaW9ucwMAAABnZXRzCAAAAHJlc291cmNlcxEAAAByZXN0cml0ZWRUcmF2ZXJzZXMGAAAA
Z2V0VWlkcwwAAAByZXNvdXJjZV91aWRzDwAAAGdldFBvcnRhbE9iamVjdHMSAAAAcG9ydGFsX3By
ZWZlcmVuY2VzcwkAAABmcm9tX2RhdGVzKQAAAGdldFByZWZlcnJlZEFjY291bnRpbmdUcmFuc2Fj
dGlvbkZyb21EYXRlcwcAAABhdF9kYXRlcycAAABnZXRQcmVmZXJyZWRBY2NvdW50aW5nVHJhbnNh
Y3Rpb25BdERhdGVzNAAAAGdldFByZWZlcnJlZEFjY291bnRpbmdUcmFuc2FjdGlvblNpbXVsYXRp
b25TdGF0ZUxpc3RzHAAAAHRyYW5zYWN0aW9uX3NpbXVsYXRpb25fc3RhdGVzMAAAAGdldFByZWZl
cnJlZEFjY291bnRpbmdUcmFuc2FjdGlvblNlY3Rpb25DYXRlZ29yeXMcAAAAdHJhbnNhY3Rpb25f
c2VjdGlvbl9jYXRlZ29yeXMKAAAAb21pdF9pbnB1dGkBAAAAcwsAAABvbWl0X291dHB1dHMJAAAA
Z2V0UGFyYW1zcxIAAABzb3VyY2VfcGF5bWVudF91aWRzFQAAAG5vX3NvdXJjZV9wYXltZW50X3Vp
ZHMXAAAAZGVzdGluYXRpb25fc2VjdGlvbl91aWRzFgAAAG5vX2Rlc3RpbmF0aW9uX3NlY3Rpb25z
CAAAAG5vZGVfdWlkcxEAAABmcm9tX2RhdGVfc3VtbWFyeWkAAAAAcxkAAABBY2NvdW50X3pHZXRU
b3RhbFF1YW50aXR5cwUAAAAlLjAyZnMIAAAAcXVhbnRpdHlmAzAuMCgYAAAAcwYAAABwYXJhbXNz
CQAAAF9nZXRhdHRyX3MCAAAAa3dzCQAAAF9nZXRpdGVtX3MHAAAAX3dyaXRlX3MHAAAAY29udGV4
dHMQAAAAc2VsZWN0aW9uX3BhcmFtc3MIAAAAS2V5RXJyb3JzDgAAAEF0dHJpYnV0ZUVycm9ycwoA
AABwcmVmZXJlbmNlcwkAAABmcm9tX2RhdGVzBwAAAGF0X2RhdGVzEAAAAHNpbXVsYXRpb25fc3Rh
dGVzEAAAAHNlY3Rpb25fY2F0ZWdvcnlzBgAAAE1BUktFUnMJAAAAc2VsZWN0aW9ucxIAAABzb3Vy
Y2VfcGF5bWVudF91aWRzEQAAAG5vX3NvdXJjZV9wYXltZW50cxcAAABkZXN0aW5hdGlvbl9zZWN0
aW9uX3VpZHMWAAAAbm9fZGVzdGluYXRpb25fc2VjdGlvbnMHAAAAX2FwcGx5X3MGAAAAcmVzdWx0
cwMAAAByb3dzBQAAAGZsb2F0KBgAAABzCQAAAHNlbGVjdGlvbnMCAAAAa3dzBgAAAHBhcmFtc3MJ
AAAAX2dldGF0dHJfcwkAAABfZ2V0aXRlbV9zBwAAAF93cml0ZV9zBwAAAGNvbnRleHRzEAAAAHNl
bGVjdGlvbl9wYXJhbXNzCAAAAEtleUVycm9ycw4AAABBdHRyaWJ1dGVFcnJvcnMKAAAAcHJlZmVy
ZW5jZXMJAAAAZnJvbV9kYXRlcwcAAABhdF9kYXRlcxAAAABzaW11bGF0aW9uX3N0YXRlcxAAAABz
ZWN0aW9uX2NhdGVnb3J5cwYAAABNQVJLRVJzEgAAAHNvdXJjZV9wYXltZW50X3VpZHMRAAAAbm9f
c291cmNlX3BheW1lbnRzFwAAAGRlc3RpbmF0aW9uX3NlY3Rpb25fdWlkcxYAAABub19kZXN0aW5h
dGlvbl9zZWN0aW9ucwcAAABfYXBwbHlfcwYAAAByZXN1bHRzAwAAAHJvd3MFAAAAZmxvYXQoAAAA
ACgAAAAAcw8AAABTY3JpcHQgKFB5dGhvbilzGQAAAEFjY291bnRfc3RhdFNvdXJjZUJhbGFuY2UB
AAAAc1YAAAAJARMBIAETATsBHQMbASQBBwEUASQBBwEUARIBBwEUARIBBwEXAhMBFwETARQCBgES
ARgBDQEUARgBDQEUAhgBDQEUARgBDQEUAjECGQEWARIDGAEPASgBAAAAcxkAAABBY2NvdW50X3N0
YXRTb3VyY2VCYWxhbmNlKAEAAABzGQAAAEFjY291bnRfc3RhdFNvdXJjZUJhbGFuY2UoAAAAACgA
AAAAcw8AAABTY3JpcHQgKFB5dGhvbilzCAAAADxtb2R1bGU+AQAAAHMAAAAA</string> </value>
        </item>
        <item>
            <key> <string>_dav_writelocks</string> </key>
            <value>
              <persistent> <string encoding="base64">AAAAAAAAAAI=</string> </persistent>
            </value>
        </item>
        <item>
            <key> <string>_filepath</string> </key>
            <value> <string>Script (Python):/nexedi/portal_skins/erp5_accounting/Account_statSourceBalance</string> </value>
        </item>
        <item>
            <key> <string>_params</string> </key>
            <value> <string>selection, **kw</string> </value>
        </item>
        <item>
            <key> <string>_proxy_roles</string> </key>
            <value>
              <tuple>
                <string>Manager</string>
              </tuple>
            </value>
        </item>
        <item>
            <key> <string>errors</string> </key>
            <value>
              <tuple/>
            </value>
        </item>
        <item>
            <key> <string>func_code</string> </key>
            <value>
              <object>
                <klass>
                  <global name="FuncCode" module="Shared.DC.Scripts.Signature"/>
                </klass>
                <tuple/>
                <state>
                  <dictionary>
                    <item>
                        <key> <string>co_argcount</string> </key>
                        <value> <int>1</int> </value>
                    </item>
                    <item>
                        <key> <string>co_varnames</string> </key>
                        <value>
                          <tuple>
                            <string>selection</string>
                            <string>kw</string>
                            <string>params</string>
                            <string>_getattr_</string>
                            <string>_getitem_</string>
                            <string>_write_</string>
                            <string>context</string>
                            <string>selection_params</string>
                            <string>KeyError</string>
                            <string>AttributeError</string>
                            <string>preference</string>
                            <string>from_date</string>
                            <string>at_date</string>
                            <string>simulation_state</string>
                            <string>section_category</string>
                            <string>MARKER</string>
                            <string>source_payment_uid</string>
                            <string>no_source_payment</string>
                            <string>destination_section_uid</string>
                            <string>no_destination_section</string>
                            <string>_apply_</string>
                            <string>result</string>
                            <string>row</string>
                            <string>float</string>
                          </tuple>
                        </value>
                    </item>
                  </dictionary>
                </state>
              </object>
            </value>
        </item>
        <item>
            <key> <string>func_defaults</string> </key>
            <value>
              <none/>
            </value>
        </item>
        <item>
            <key> <string>id</string> </key>
            <value> <string>Account_statSourceBalance</string> </value>
        </item>
        <item>
            <key> <string>warnings</string> </key>
            <value>
              <tuple/>
            </value>
        </item>
      </dictionary>
    </pickle>
  </record>
  <record id="2" aka="AAAAAAAAAAI=">
    <pickle>
      <tuple>
        <tuple>
          <string>Persistence</string>
          <string>PersistentMapping</string>
        </tuple>
        <none/>
      </tuple>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>_container</string> </key>
            <value>
              <dictionary/>
            </value>
        </item>
      </dictionary>
    </pickle>
  </record>
</ZopeData>
