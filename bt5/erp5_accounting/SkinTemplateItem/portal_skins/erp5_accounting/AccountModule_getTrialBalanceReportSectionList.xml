<?xml version="1.0"?>
<ZopeData>
  <record id="1" aka="AAAAAAAAAAE=">
    <pickle>
      <tuple>
        <tuple>
          <string>Products.PythonScripts.PythonScript</string>
          <string>PythonScript</string>
        </tuple>
        <none/>
      </tuple>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>Python_magic</string> </key>
            <value> <string encoding="base64">O/INCg==</string> </value>
        </item>
        <item>
            <key> <string>Script_magic</string> </key>
            <value> <int>3</int> </value>
        </item>
        <item>
            <key> <string>__ac_local_roles__</string> </key>
            <value>
              <none/>
            </value>
        </item>
        <item>
            <key> <string>_bind_names</string> </key>
            <value>
              <object>
                <klass>
                  <global name="NameAssignments" module="Shared.DC.Scripts.Bindings"/>
                </klass>
                <tuple/>
                <state>
                  <dictionary>
                    <item>
                        <key> <string>_asgns</string> </key>
                        <value>
                          <dictionary>
                            <item>
                                <key> <string>name_container</string> </key>
                                <value> <string>container</string> </value>
                            </item>
                            <item>
                                <key> <string>name_context</string> </key>
                                <value> <string>context</string> </value>
                            </item>
                            <item>
                                <key> <string>name_m_self</string> </key>
                                <value> <string>script</string> </value>
                            </item>
                            <item>
                                <key> <string>name_subpath</string> </key>
                                <value> <string>traverse_subpath</string> </value>
                            </item>
                          </dictionary>
                        </value>
                    </item>
                  </dictionary>
                </state>
              </object>
            </value>
        </item>
        <item>
            <key> <string>_body</string> </key>
            <value> <string>"""\n
Trial balance.\n
\n
"""\n
\n
from Products.ERP5Form.Report import ReportSection\n
\n
request = context.REQUEST\n
\n
at_date                         = request[\'at_date\']\n
transaction_section_category    = request[\'transaction_section_category\']\n
transaction_simulation_state    = request[\'transaction_simulation_state\']\n
gap_root                        = request[\'gap_root\']\n
from_date                       = request.get(\'from_date\', None)\n
expand_accounts                 = request.get(\'expand_accounts\', 0)\n
\n
\n
# flat_mode is a boolean that indicate wether we should use a report tree \n
# or a flat list of all accounts. \n
tree_mode                        =  request.get(\'tree_mode\', 0)\n
if tree_mode :\n
  raise \'tree mode no longer supported, sorry\'\n
\n
result = []\n
params = {\n
  \'at_date\'                              : at_date,\n
  \'transaction_section_category\'         : transaction_section_category,\n
  \'section_category\'                     : transaction_section_category,\n
  \'transaction_simulation_state\'         : transaction_simulation_state,\n
  \'accounting_transaction_line_currency\' : None,\n
  \'is_report_opened\'                     : 1,\n
  \'report_depth\'                         : 5,\n
  \'gap_root\'                             : gap_root,\n
  \'expand_accounts\'                      : expand_accounts ,\n
}\n
\n
preferences = {\n
  \'preferred_accounting_transaction_at_date\' : at_date,\n
  \'preferred_accounting_transaction_section_category\' :\n
                  transaction_section_category,\n
  \'preferred_accounting_transaction_simulation_state\' :\n
                  transaction_simulation_state,\n
  \'preferred_accounting_transaction_gap_root\' : gap_root,\n
}\n
\n
if from_date:\n
  params[\'from_date\'] = from_date\n
  preferences[\'preferred_accounting_transaction_from_date\'] = from_date\n
\n
portal = context.portal_url.getPortalObject()\n
\n
if tree_mode :\n
  gap_id_line = (\'gap_id\', \'GAP\')\n
else :\n
  gap_id_line = (\'id\', \'GAP\')\n
\n
balance_columns = (\n
  gap_id_line,\n
  (\'title\', \'Account\'),\n
  (\'opening_balance\', \'Opening Balance\'),\n
  (\'debit_movement\', \'Debit Movements\'),\n
  (\'credit_movement\', \'Credit Movements\'),\n
  (\'closing_balance\', \'Closing Balance\'),\n
)\n
\n
\n
if not tree_mode :\n
  result.append(\n
                ReportSection( path=portal.account_module.getPhysicalPath(),\n
                               # FIXME translate later\n
                               title=portal.translation_service.translate(\'ui\', \'Trial Balance\').encode(\'utf8\'),\n
                               level=1,\n
                               form_id=\'AccountModule_viewAccountListForTrialBalance\',\n
                               selection_name=\'accounting_selection\',\n
                               selection_params=params,\n
                               listbox_display_mode=\'FlatListMode\',\n
                               selection_columns=balance_columns,\n
                               preferences = preferences\n
                               )\n
               )\n
else :\n
  selection_report_path = \'portal_categories/\' + gap_root\n
  selection_report_list = context.restrictedTraverse(selection_report_path).getPathList()\n
  params[\'report_list\'] = selection_report_list\n
  params[\'report_path\'] = selection_report_list\n
\n
  result.append(\n
                 ReportSection(path=portal.account_module.getPhysicalPath(),\n
                               title=\'Trial Balance\',\n
                               level=1,\n
                               form_id=\'AccountModule_viewAccountList\',\n
                               selection_name=\'account_selection\',\n
                               selection_params=params,\n
                               listbox_display_mode=\'ReportTreeMode\',\n
                               selection_columns=balance_columns,\n
                               selection_report_path=selection_report_path,\n
                               selection_report_list=selection_report_list,\n
                               preferences = preferences\n
                               )\n
               )\n
\n
return result\n
# vim: syntax=python\n
</string> </value>
        </item>
        <item>
            <key> <string>_code</string> </key>
            <value> <string encoding="base64">YwAAAAAAAAAAAQAAAEAAAABzDQAAAGQBAIQAAFoAAGQAAFMoAgAAAE5jAAAAABcAAAAsAAAAQwAA
AHMuAwAAZAEAawAAbAEAfQEAAXQCAHQDAGQCAIMCAH0EAHQFAHwEAGQDAIMCAH0GAHQFAHwEAGQE
AIMCAH0HAHQFAHwEAGQFAIMCAH0IAHQFAHwEAGQGAIMCAH0JAHQCAHwEAGQHAIMCAGQIAHQKAIMC
AH0LAHQCAHwEAGQHAIMCAGQJAGQKAIMCAH0MAHQCAHwEAGQHAIMCAGQLAGQKAIMCAH0NAHwNAG8K
AAFkDACCAQBuAQABZwAAfQ4AaAAABGQDAHwGAAM8BGQEAHwHAAM8BGQNAHwHAAM8BGQFAHwIAAM8
BGQOAHQKAAM8BGQPAGQQAAM8BGQRAGQSAAM8BGQGAHwJAAM8BGQJAHwMAAM8fQ8AaAAABGQTAHwG
AAM8BGQUAHwHAAM8BGQVAHwIAAM8BGQWAHwJAAM8fRAAfAsAbyQAAXwLAHQRAHwPAIMBAGQIADx8
CwB0EQB8EACDAQBkFwA8bgEAAXQCAHQCAHQDAGQYAIMCAGQZAIMCAIMAAH0SAHwNAG8QAAFkGgBk
GwBmAgB9EwBuDQABZBwAZBsAZgIAfRMAfBMAZB0AZB4AZgIAZB8AZCAAZgIAZCEAZCIAZgIAZCMA
ZCQAZgIAZCUAZCYAZgIAZgYAfRQAfA0ADG+PAAF0AgB8DgBkJwCDAgB8AQBkKAB0AgB0AgB8EgBk
KQCDAgBkKgCDAgCDAABkHQB0AgB0AgB0AgB8EgBkKwCDAgBkLACDAgBkLQBkLgCDAgBkLwCDAgBk
MACDAQBkMQBkEABkMgBkMwBkNABkNQBkNgB8DwBkNwBkOABkOQB8FABkOgB8EACDAAmDAQABbrkA
AWQ7AHwJABd9FQB0AgB0AgB0AwBkPACDAgB8FQCDAQBkPQCDAgCDAAB9FgB8FgB0EQB8DwCDAQBk
PgA8fBYAdBEAfA8AgwEAZD8APHQCAHwOAGQnAIMCAHwBAGQoAHQCAHQCAHwSAGQpAIMCAGQqAIMC
AIMAAGQdAGQuAGQxAGQQAGQyAGRAAGQ0AGRBAGQ2AHwPAGQ3AGRCAGQ5AHwUAGRDAHwVAGREAHwW
AGQ6AHwQAIMAC4MBAAF8DgBTZAAAUyhFAAAATigBAAAAcw0AAABSZXBvcnRTZWN0aW9ucwcAAABS
RVFVRVNUcwcAAABhdF9kYXRlcxwAAAB0cmFuc2FjdGlvbl9zZWN0aW9uX2NhdGVnb3J5cxwAAAB0
cmFuc2FjdGlvbl9zaW11bGF0aW9uX3N0YXRlcwgAAABnYXBfcm9vdHMDAAAAZ2V0cwkAAABmcm9t
X2RhdGVzDwAAAGV4cGFuZF9hY2NvdW50c2kAAAAAcwkAAAB0cmVlX21vZGVzJAAAAHRyZWUgbW9k
ZSBubyBsb25nZXIgc3VwcG9ydGVkLCBzb3JyeXMQAAAAc2VjdGlvbl9jYXRlZ29yeXMkAAAAYWNj
b3VudGluZ190cmFuc2FjdGlvbl9saW5lX2N1cnJlbmN5cxAAAABpc19yZXBvcnRfb3BlbmVkaQEA
AABzDAAAAHJlcG9ydF9kZXB0aGkFAAAAcygAAABwcmVmZXJyZWRfYWNjb3VudGluZ190cmFuc2Fj
dGlvbl9hdF9kYXRlczEAAABwcmVmZXJyZWRfYWNjb3VudGluZ190cmFuc2FjdGlvbl9zZWN0aW9u
X2NhdGVnb3J5czEAAABwcmVmZXJyZWRfYWNjb3VudGluZ190cmFuc2FjdGlvbl9zaW11bGF0aW9u
X3N0YXRlcykAAABwcmVmZXJyZWRfYWNjb3VudGluZ190cmFuc2FjdGlvbl9nYXBfcm9vdHMqAAAA
cHJlZmVycmVkX2FjY291bnRpbmdfdHJhbnNhY3Rpb25fZnJvbV9kYXRlcwoAAABwb3J0YWxfdXJs
cw8AAABnZXRQb3J0YWxPYmplY3RzBgAAAGdhcF9pZHMDAAAAR0FQcwIAAABpZHMFAAAAdGl0bGVz
BwAAAEFjY291bnRzDwAAAG9wZW5pbmdfYmFsYW5jZXMPAAAAT3BlbmluZyBCYWxhbmNlcw4AAABk
ZWJpdF9tb3ZlbWVudHMPAAAARGViaXQgTW92ZW1lbnRzcw8AAABjcmVkaXRfbW92ZW1lbnRzEAAA
AENyZWRpdCBNb3ZlbWVudHNzDwAAAGNsb3NpbmdfYmFsYW5jZXMPAAAAQ2xvc2luZyBCYWxhbmNl
cwYAAABhcHBlbmRzBAAAAHBhdGhzDgAAAGFjY291bnRfbW9kdWxlcw8AAABnZXRQaHlzaWNhbFBh
dGhzEwAAAHRyYW5zbGF0aW9uX3NlcnZpY2VzCQAAAHRyYW5zbGF0ZXMCAAAAdWlzDQAAAFRyaWFs
IEJhbGFuY2VzBgAAAGVuY29kZXMEAAAAdXRmOHMFAAAAbGV2ZWxzBwAAAGZvcm1faWRzLAAAAEFj
Y291bnRNb2R1bGVfdmlld0FjY291bnRMaXN0Rm9yVHJpYWxCYWxhbmNlcw4AAABzZWxlY3Rpb25f
bmFtZXMUAAAAYWNjb3VudGluZ19zZWxlY3Rpb25zEAAAAHNlbGVjdGlvbl9wYXJhbXNzFAAAAGxp
c3Rib3hfZGlzcGxheV9tb2RlcwwAAABGbGF0TGlzdE1vZGVzEQAAAHNlbGVjdGlvbl9jb2x1bW5z
cwsAAABwcmVmZXJlbmNlc3MSAAAAcG9ydGFsX2NhdGVnb3JpZXMvcxIAAAByZXN0cmljdGVkVHJh
dmVyc2VzCwAAAGdldFBhdGhMaXN0cwsAAAByZXBvcnRfbGlzdHMLAAAAcmVwb3J0X3BhdGhzHQAA
AEFjY291bnRNb2R1bGVfdmlld0FjY291bnRMaXN0cxEAAABhY2NvdW50X3NlbGVjdGlvbnMOAAAA
UmVwb3J0VHJlZU1vZGVzFQAAAHNlbGVjdGlvbl9yZXBvcnRfcGF0aHMVAAAAc2VsZWN0aW9uX3Jl
cG9ydF9saXN0KBcAAABzGAAAAFByb2R1Y3RzLkVSUDVGb3JtLlJlcG9ydHMNAAAAUmVwb3J0U2Vj
dGlvbnMJAAAAX2dldGF0dHJfcwcAAABjb250ZXh0cwcAAAByZXF1ZXN0cwkAAABfZ2V0aXRlbV9z
BwAAAGF0X2RhdGVzHAAAAHRyYW5zYWN0aW9uX3NlY3Rpb25fY2F0ZWdvcnlzHAAAAHRyYW5zYWN0
aW9uX3NpbXVsYXRpb25fc3RhdGVzCAAAAGdhcF9yb290cwQAAABOb25lcwkAAABmcm9tX2RhdGVz
DwAAAGV4cGFuZF9hY2NvdW50c3MJAAAAdHJlZV9tb2RlcwYAAAByZXN1bHRzBgAAAHBhcmFtc3ML
AAAAcHJlZmVyZW5jZXNzBwAAAF93cml0ZV9zBgAAAHBvcnRhbHMLAAAAZ2FwX2lkX2xpbmVzDwAA
AGJhbGFuY2VfY29sdW1uc3MVAAAAc2VsZWN0aW9uX3JlcG9ydF9wYXRocxUAAABzZWxlY3Rpb25f
cmVwb3J0X2xpc3QoFwAAAHMYAAAAUHJvZHVjdHMuRVJQNUZvcm0uUmVwb3J0cw0AAABSZXBvcnRT
ZWN0aW9ucwkAAABfZ2V0YXR0cl9zBwAAAGNvbnRleHRzBwAAAHJlcXVlc3RzCQAAAF9nZXRpdGVt
X3MHAAAAYXRfZGF0ZXMcAAAAdHJhbnNhY3Rpb25fc2VjdGlvbl9jYXRlZ29yeXMcAAAAdHJhbnNh
Y3Rpb25fc2ltdWxhdGlvbl9zdGF0ZXMIAAAAZ2FwX3Jvb3RzBAAAAE5vbmVzCQAAAGZyb21fZGF0
ZXMPAAAAZXhwYW5kX2FjY291bnRzcwkAAAB0cmVlX21vZGVzBgAAAHJlc3VsdHMGAAAAcGFyYW1z
cwsAAABwcmVmZXJlbmNlc3MHAAAAX3dyaXRlX3MGAAAAcG9ydGFscwsAAABnYXBfaWRfbGluZXMP
AAAAYmFsYW5jZV9jb2x1bW5zcxUAAABzZWxlY3Rpb25fcmVwb3J0X3BhdGhzFQAAAHNlbGVjdGlv
bl9yZXBvcnRfbGlzdCgAAAAAKAAAAABzDwAAAFNjcmlwdCAoUHl0aG9uKXMuAAAAQWNjb3VudE1v
ZHVsZV9nZXRUcmlhbEJhbGFuY2VSZXBvcnRTZWN0aW9uTGlzdAEAAABzdAAAAAAFDQIPAg8BDwEP
AQ8BGAEYBRgBBwEKAgYBBwEJAQkBCQEJARsDCQEIAwcBCQIJAgkBCAMHARABFAIbAgcBEAIMAgAB
AwEJAQkBCQEJAQ8ECwEJASoCOQQMAgYBDgQKASEBEAETAgkBOQUMAgYBBgEGAQoEKAEAAABzLgAA
AEFjY291bnRNb2R1bGVfZ2V0VHJpYWxCYWxhbmNlUmVwb3J0U2VjdGlvbkxpc3QoAQAAAHMuAAAA
QWNjb3VudE1vZHVsZV9nZXRUcmlhbEJhbGFuY2VSZXBvcnRTZWN0aW9uTGlzdCgAAAAAKAAAAABz
DwAAAFNjcmlwdCAoUHl0aG9uKXMIAAAAPG1vZHVsZT4BAAAAcwAAAAA=</string> </value>
        </item>
        <item>
            <key> <string>_dav_writelocks</string> </key>
            <value>
              <persistent> <string encoding="base64">AAAAAAAAAAI=</string> </persistent>
            </value>
        </item>
        <item>
            <key> <string>_filepath</string> </key>
            <value> <string>Script (Python):/nexedi/portal_skins/erp5_accounting/AccountModule_getTrialBalanceReportSectionList</string> </value>
        </item>
        <item>
            <key> <string>_params</string> </key>
            <value> <string></string> </value>
        </item>
        <item>
            <key> <string>errors</string> </key>
            <value>
              <tuple/>
            </value>
        </item>
        <item>
            <key> <string>func_code</string> </key>
            <value>
              <object>
                <klass>
                  <global name="FuncCode" module="Shared.DC.Scripts.Signature"/>
                </klass>
                <tuple/>
                <state>
                  <dictionary>
                    <item>
                        <key> <string>co_argcount</string> </key>
                        <value> <int>0</int> </value>
                    </item>
                    <item>
                        <key> <string>co_varnames</string> </key>
                        <value>
                          <tuple>
                            <string>Products.ERP5Form.Report</string>
                            <string>ReportSection</string>
                            <string>_getattr_</string>
                            <string>context</string>
                            <string>request</string>
                            <string>_getitem_</string>
                            <string>at_date</string>
                            <string>transaction_section_category</string>
                            <string>transaction_simulation_state</string>
                            <string>gap_root</string>
                            <string>None</string>
                            <string>from_date</string>
                            <string>expand_accounts</string>
                            <string>tree_mode</string>
                            <string>result</string>
                            <string>params</string>
                            <string>preferences</string>
                            <string>_write_</string>
                            <string>portal</string>
                            <string>gap_id_line</string>
                            <string>balance_columns</string>
                            <string>selection_report_path</string>
                            <string>selection_report_list</string>
                          </tuple>
                        </value>
                    </item>
                  </dictionary>
                </state>
              </object>
            </value>
        </item>
        <item>
            <key> <string>func_defaults</string> </key>
            <value>
              <none/>
            </value>
        </item>
        <item>
            <key> <string>id</string> </key>
            <value> <string>AccountModule_getTrialBalanceReportSectionList</string> </value>
        </item>
        <item>
            <key> <string>warnings</string> </key>
            <value>
              <tuple/>
            </value>
        </item>
      </dictionary>
    </pickle>
  </record>
  <record id="2" aka="AAAAAAAAAAI=">
    <pickle>
      <tuple>
        <tuple>
          <string>Persistence</string>
          <string>PersistentMapping</string>
        </tuple>
        <none/>
      </tuple>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>_container</string> </key>
            <value>
              <dictionary/>
            </value>
        </item>
      </dictionary>
    </pickle>
  </record>
</ZopeData>
