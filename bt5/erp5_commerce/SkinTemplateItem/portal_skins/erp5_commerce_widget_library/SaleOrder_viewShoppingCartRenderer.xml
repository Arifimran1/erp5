<?xml version="1.0"?>
<ZopeData>
  <record id="1" aka="AAAAAAAAAAE=">
    <pickle>
      <tuple>
        <global name="ZopePageTemplate" module="Products.PageTemplates.ZopePageTemplate"/>
        <tuple/>
      </tuple>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>_bind_names</string> </key>
            <value>
              <object>
                <klass>
                  <global name="NameAssignments" module="Shared.DC.Scripts.Bindings"/>
                </klass>
                <tuple/>
                <state>
                  <dictionary>
                    <item>
                        <key> <string>_asgns</string> </key>
                        <value>
                          <dictionary>
                            <item>
                                <key> <string>name_subpath</string> </key>
                                <value> <string>traverse_subpath</string> </value>
                            </item>
                          </dictionary>
                        </value>
                    </item>
                  </dictionary>
                </state>
              </object>
            </value>
        </item>
        <item>
            <key> <string>_text</string> </key>
            <value> <string encoding="cdata"><![CDATA[

<tal:block tal:define="shopping_cart        here/SaleOrder_getShoppingCart;\n
                       shopping_cart_items  shopping_cart/SaleOrder_getShoppingCartItemList;\n
                       total_price python:  shopping_cart.SaleOrder_getShoppingCartTotalPrice(include_currency=True);\n
                       empty_cart python:   shopping_cart.SaleOrder_isShoppingCartEmpty();\n
                       confirm_mode python: bool(options.get(\'confirm_mode\', 0))">\n
  <h2>\n
    <span tal:replace="python: here.Base_translateString(\'My shopping cart\')"/>\n
  </h2>\n
  <tal:block tal:condition = "empty_cart"> \n
    <h3><span tal:replace="python: here.Base_translateString(\'You shopping cart is empty.\')"/></h3>\n
  </tal:block>\n
\n
  <tal:block tal:condition = "not: empty_cart">\n
   <div class="ListContent">\n
   <table cellpadding="0" cellspacing="0" width="65%">\n
    <tr>\n
      <td class="Data" tal:content="python: here.Base_translateString(\'Product\')"/>\n
      <td class="Data" tal:content="python: here.Base_translateString(\'Quantity\')"/>\n
      <td class="Data" tal:content="python: here.Base_translateString(\'Price\')"/>\n
      <td class="Data" tal:content="python: here.Base_translateString(\'Total\')"/>\n
    </tr>\n
    <tal:block tal:repeat="order_line shopping_cart_items">\n
      <tr tal:define="resource python: here.restrictedTraverse(order_line.getResource());\n
                      quantity python: int(order_line.getQuantity());\n
                      price    python: resource.getPrice();\n
                      order_line_id python: order_line.getId();\n
                      currency python: here.restrictedTraverse(shopping_cart.getPriceCurrency());\n
                      currency_title python: currency.getTitle(); \n
                      currency_symbole python: currency.getShortTitle();">\n
         <td>\n
             <div tal:attributes="class python: bool(confirm_mode) and \' \' or \'shopping_cart_renderer_title\'">\n
               <a href="" tal:attributes="href resource/absolute_url">\n
                 <span tal:replace="resource/getTitle"/>           \n
               </a>\n
             </div>\n
             <div class="shopping_cart_renderer_remove">\n
               <a tal:condition="not: confirm_mode"\n
                  tal:attributes="href python: \'%s/SaleOrder_deleteShoppingCartItem?field_my_order_line_id=%s\' \n
                                                %(here.absolute_url(), order_line_id)">\n
                  <img src="images/icon_remove.gif" title="Remove from shopping cart"/>\n
               </a>\n
             </div>\n
         </td>\n
         <td>\n
           <select tal:condition="not: confirm_mode"\n
                   name="field_my_buy_quantity">\n
             <tal:block tal:repeat="index python: range(1,31)">\n
               <option tal:condition="python: index!=quantity" tal:content="index" tal:attributes="value index"/>\n
               <option SELECTED tal:condition="python: index==quantity" tal:content="index" tal:attributes="value index"/>\n
             </tal:block>\n
           </select>\n
           <span tal:condition="confirm_mode" tal:content="quantity"/>\n
         </td>\n
         <td>\n
           <span tal:replace="price"/> <span tal:replace="currency_title"/>\n
         </td>\n
         <td>\n
           <span tal:replace="python: price*quantity"/> <span tal:replace="currency_title"/>\n
         </td>\n
      </tr>\n
    </tal:block>\n
      <tr>\n
        <td><br/><span tal:replace="python: here.Base_translateString(\'Sub Total\')"/></td>\n
        <td></td>\n
        <td></td>\n
        <td style="vertical-align=middle;">\n
          <b>\n
            <span tal:replace="total_price"/>\n
          </b>\n
         </td>\n
      </tr>\n
  </table>\n
  </div>\n
  </tal:block> \n
</tal:block>\n


]]></string> </value>
        </item>
        <item>
            <key> <string>content_type</string> </key>
            <value> <string>text/html</string> </value>
        </item>
        <item>
            <key> <string>expand</string> </key>
            <value> <int>0</int> </value>
        </item>
        <item>
            <key> <string>id</string> </key>
            <value> <string>SaleOrder_viewShoppingCartRenderer</string> </value>
        </item>
        <item>
            <key> <string>title</string> </key>
            <value> <string>Edit/Review shopping cart content custom renderer</string> </value>
        </item>
      </dictionary>
    </pickle>
  </record>
</ZopeData>
