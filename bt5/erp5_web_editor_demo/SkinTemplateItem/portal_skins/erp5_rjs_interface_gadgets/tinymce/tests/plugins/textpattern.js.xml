<?xml version="1.0"?>
<ZopeData>
  <record id="1" aka="AAAAAAAAAAE=">
    <pickle>
      <global name="File" module="OFS.Image"/>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>_EtagSupport__etag</string> </key>
            <value> <string>ts41268134.51</string> </value>
        </item>
        <item>
            <key> <string>__name__</string> </key>
            <value> <string>textpattern.js</string> </value>
        </item>
        <item>
            <key> <string>content_type</string> </key>
            <value> <string>application/javascript</string> </value>
        </item>
        <item>
            <key> <string>data</string> </key>
            <value> <string encoding="cdata"><![CDATA[

(function() {\n
\tmodule("tinymce.plugins.TextPattern", {\n
\t\tsetupModule: function() {\n
\t\t\tQUnit.stop();\n
\n
\t\t\ttinymce.init({\n
\t\t\t\tselector: \'textarea\',\n
\t\t\t\tadd_unload_trigger: false,\n
\t\t\t\tskin: false,\n
\t\t\t\tindent: false,\n
\t\t\t\tplugins: "textpattern",\n
\t\t\t\tinit_instance_callback: function(ed) {\n
\t\t\t\t\twindow.editor = ed;\n
\t\t\t\t\tQUnit.start();\n
\t\t\t\t}\n
\t\t\t});\n
\t\t},\n
\n
\t\tteardown: function() {\n
\t\t\tdelete editor.settings.textpattern_patterns;\n
\t\t}\n
\t});\n
\n
\ttest(\'Italic format on single word using space\', function() {\n
\t\teditor.setContent(\'<p>*abc*\\u00a0</p>\');\n
\t\tUtils.setSelection(\'p\', 6);\n
\t\teditor.fire(\'keyup\', {keyCode: 32});\n
\n
\t\tequal(\n
\t\t\teditor.getContent(),\n
\t\t\t\'<p><em>abc</em>&nbsp;</p>\'\n
\t\t);\n
\t});\n
\n
\ttest(\'Bold format on single word using space\', function() {\n
\t\teditor.setContent(\'<p>**abc**\\u00a0</p>\');\n
\t\tUtils.setSelection(\'p\', 8);\n
\t\teditor.fire(\'keyup\', {keyCode: 32});\n
\n
\t\tequal(\n
\t\t\teditor.getContent(),\n
\t\t\t\'<p><strong>abc</strong>&nbsp;</p>\'\n
\t\t);\n
\t});\n
\n
\ttest(\'Bold format on multiple words using space\', function() {\n
\t\teditor.setContent(\'<p>**abc 123**\\u00a0</p>\');\n
\t\tUtils.setSelection(\'p\', 12);\n
\t\teditor.fire(\'keyup\', {keyCode: 32});\n
\n
\t\tequal(\n
\t\t\teditor.getContent(),\n
\t\t\t\'<p><strong>abc 123</strong>&nbsp;</p>\'\n
\t\t);\n
\t});\n
\n
\ttest(\'Bold format on single word using enter\', function() {\n
\t\teditor.setContent(\'<p>**abc**</p>\');\n
\t\tUtils.setSelection(\'p\', 7);\n
\t\teditor.fire(\'keydown\', {keyCode: 13});\n
\n
\t\tequal(\n
\t\t\teditor.getContent(),\n
\t\t\t\'<p><strong>abc</strong></p><p>&nbsp;</p>\'\n
\t\t);\n
\t});\n
\n
\ttest(\'H1 format on single word node using enter\', function() {\n
\t\teditor.setContent(\'<p>#abc</p>\');\n
\t\tUtils.setSelection(\'p\', 4);\n
\t\teditor.fire(\'keydown\', {keyCode: 13});\n
\n
\t\tequal(\n
\t\t\teditor.getContent(),\n
\t\t\t\'<h1>abc</h1><p>&nbsp;</p>\'\n
\t\t);\n
\t});\n
\n
\ttest(\'OL format on single word node using enter\', function() {\n
\t\teditor.setContent(\'<p>1. abc</p>\');\n
\t\tUtils.setSelection(\'p\', 6);\n
\t\teditor.fire(\'keydown\', {keyCode: 13});\n
\n
\t\tequal(\n
\t\t\teditor.getContent(),\n
\t\t\t\'<ol><li>abc</li><li></li></ol>\'\n
\t\t);\n
\t});\n
\n
\ttest(\'UL format on single word node using enter\', function() {\n
\t\teditor.setContent(\'<p>* abc</p>\');\n
\t\tUtils.setSelection(\'p\', 5);\n
\t\teditor.fire(\'keydown\', {keyCode: 13});\n
\n
\t\tequal(\n
\t\t\teditor.getContent(),\n
\t\t\t\'<ul><li>abc</li><li></li></ul>\'\n
\t\t);\n
\t});\n
\n
\ttest(\'getPatterns/setPatterns\', function() {\n
\t\teditor.plugins.textpattern.setPatterns([\n
\t\t\t{start: \'#\', format: \'h1\'},\n
\t\t\t{start: \'##\', format: \'h2\'},\n
\t\t\t{start: \'###\', format: \'h3\'}\n
\t\t]);\n
\n
\t\tdeepEqual(\n
\t\t\teditor.plugins.textpattern.getPatterns(),\n
\t\t\t[\n
\t\t\t\t{\n
\t\t\t\t\t"format": "h3",\n
\t\t\t\t\t"start": "###"\n
\t\t\t\t},\n
\t\t\t\t{\n
\t\t\t\t\t"format": "h2",\n
\t\t\t\t\t"start": "##"\n
\t\t\t\t},\n
\t\t\t\t{\n
\t\t\t\t\t"format": "h1",\n
\t\t\t\t\t"start": "#"\n
\t\t\t\t}\n
\t\t\t]\n
\t\t);\n
\t});\n
})();

]]></string> </value>
        </item>
        <item>
            <key> <string>precondition</string> </key>
            <value> <string></string> </value>
        </item>
        <item>
            <key> <string>size</string> </key>
            <value> <int>2659</int> </value>
        </item>
        <item>
            <key> <string>title</string> </key>
            <value> <string>textpattern.js</string> </value>
        </item>
      </dictionary>
    </pickle>
  </record>
</ZopeData>
