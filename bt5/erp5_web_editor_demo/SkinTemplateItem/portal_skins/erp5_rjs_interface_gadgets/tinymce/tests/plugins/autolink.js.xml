<?xml version="1.0"?>
<ZopeData>
  <record id="1" aka="AAAAAAAAAAE=">
    <pickle>
      <global name="File" module="OFS.Image"/>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>_EtagSupport__etag</string> </key>
            <value> <string>ts41268125.87</string> </value>
        </item>
        <item>
            <key> <string>__name__</string> </key>
            <value> <string>autolink.js</string> </value>
        </item>
        <item>
            <key> <string>content_type</string> </key>
            <value> <string>application/javascript</string> </value>
        </item>
        <item>
            <key> <string>data</string> </key>
            <value> <string encoding="cdata"><![CDATA[

(function() {\n
\tmodule("tinymce.plugins.Autolink", {\n
\t\tsetupModule: function() {\n
\t\t\tQUnit.stop();\n
\n
\t\t\ttinymce.init({\n
\t\t\t\tselector: "textarea",\n
\t\t\t\tadd_unload_trigger: false,\n
\t\t\t\tskin: false,\n
\t\t\t\tplugins: \'autolink\',\n
\t\t\t\tautosave_ask_before_unload: false,\n
\t\t\t\tindent: false,\n
\t\t\t\tinit_instance_callback: function(ed) {\n
\t\t\t\t\twindow.editor = ed;\n
\t\t\t\t\tQUnit.start();\n
\t\t\t\t}\n
\t\t\t});\n
\t\t}\n
\t});\n
\n
\tfunction typeUrl(url) {\n
\t\teditor.setContent(\'<p>\' + url + \'</p>\');\n
\t\tUtils.setSelection(\'p\', url.length);\n
\t\tUtils.type(\' \');\n
\t\treturn editor.getContent();\n
\t}\n
\n
\tfunction typeAnEclipsedURL(url) {\n
\t\turl = "(" + url;\n
\t\teditor.setContent(\'<p>\' + url + \'</p>\');\n
\t\tUtils.setSelection(\'p\', url.length);\n
\t\tUtils.type(\')\');\n
\t\treturn editor.getContent();\n
\t}\n
\n
\tfunction typeNewlineURL(url) {\n
\t\teditor.setContent(\'<p>\' + url + \'</p>\');\n
\t\tUtils.setSelection(\'p\', url.length);\n
\t\tUtils.type(\'\\n\');\n
\t\treturn editor.getContent();\n
\t}\n
\n
\tif (tinymce.Env.ie) {\n
\t\ttest("Skipped on IE since it has built in logic for autolink", function() {\n
\t\t\tok(true);\n
\t\t});\n
\n
\t\treturn;\n
\t}\n
\n
\ttest("Urls ended with space", function() {\n
\t\tequal(typeUrl(\'http://www.domain.com\'), \'<p><a href="http://www.domain.com">http://www.domain.com</a></p>\');\n
\t\tequal(typeUrl(\'https://www.domain.com\'), \'<p><a href="https://www.domain.com">https://www.domain.com</a></p>\');\n
\t\tequal(typeUrl(\'ssh://www.domain.com\'), \'<p><a href="ssh://www.domain.com">ssh://www.domain.com</a></p>\');\n
\t\tequal(typeUrl(\'ftp://www.domain.com\'), \'<p><a href="ftp://www.domain.com">ftp://www.domain.com</a></p>\');\n
\t\tequal(typeUrl(\'www.domain.com\'), \'<p><a href="http://www.domain.com">www.domain.com</a></p>\');\n
\t\tequal(typeUrl(\'www.domain.com.\'), \'<p><a href="http://www.domain.com">www.domain.com</a>.</p>\');\n
\t\tequal(typeUrl(\'user@domain.com\'), \'<p><a href="mailto:user@domain.com">user@domain.com</a></p>\');\n
\t\tequal(typeUrl(\'mailto:user@domain.com\'), \'<p><a href="mailto:user@domain.com">mailto:user@domain.com</a></p>\');\n
\t\tequal(typeUrl(\'first-last@domain.com\'), \'<p><a href="mailto:first-last@domain.com">first-last@domain.com</a></p>\');\n
\t});\n
\n
\ttest("Urls ended with )", function() {\n
\t\tequal(typeAnEclipsedURL(\'http://www.domain.com\'), \'<p>(<a href="http://www.domain.com">http://www.domain.com</a>)</p>\');\n
\t\tequal(typeAnEclipsedURL(\'https://www.domain.com\'), \'<p>(<a href="https://www.domain.com">https://www.domain.com</a>)</p>\');\n
\t\tequal(typeAnEclipsedURL(\'ssh://www.domain.com\'), \'<p>(<a href="ssh://www.domain.com">ssh://www.domain.com</a>)</p>\');\n
\t\tequal(typeAnEclipsedURL(\'ftp://www.domain.com\'), \'<p>(<a href="ftp://www.domain.com">ftp://www.domain.com</a>)</p>\');\n
\t\tequal(typeAnEclipsedURL(\'www.domain.com\'), \'<p>(<a href="http://www.domain.com">www.domain.com</a>)</p>\');\n
\t\tequal(typeAnEclipsedURL(\'www.domain.com.\'), \'<p>(<a href="http://www.domain.com">www.domain.com</a>.)</p>\');\n
\t});\n
\n
\ttest("Urls ended with new line", function() {\n
\t\tequal(typeNewlineURL(\'http://www.domain.com\'), \'<p><a href="http://www.domain.com">http://www.domain.com</a></p><p>&nbsp;</p>\');\n
\t\tequal(typeNewlineURL(\'https://www.domain.com\'), \'<p><a href="https://www.domain.com">https://www.domain.com</a></p><p>&nbsp;</p>\');\n
\t\tequal(typeNewlineURL(\'ssh://www.domain.com\'), \'<p><a href="ssh://www.domain.com">ssh://www.domain.com</a></p><p>&nbsp;</p>\');\n
\t\tequal(typeNewlineURL(\'ftp://www.domain.com\'), \'<p><a href="ftp://www.domain.com">ftp://www.domain.com</a></p><p>&nbsp;</p>\');\n
\t\tequal(typeNewlineURL(\'www.domain.com\'), \'<p><a href="http://www.domain.com">www.domain.com</a></p><p>&nbsp;</p>\');\n
\t\tequal(typeNewlineURL(\'www.domain.com.\'), \'<p><a href="http://www.domain.com">www.domain.com</a>.</p><p>&nbsp;</p>\');\n
\t});\n
})();\n


]]></string> </value>
        </item>
        <item>
            <key> <string>precondition</string> </key>
            <value> <string></string> </value>
        </item>
        <item>
            <key> <string>size</string> </key>
            <value> <int>3625</int> </value>
        </item>
        <item>
            <key> <string>title</string> </key>
            <value> <string>autolink.js</string> </value>
        </item>
      </dictionary>
    </pickle>
  </record>
</ZopeData>
