<?xml version="1.0"?>
<ZopeData>
  <record id="1" aka="AAAAAAAAAAE=">
    <pickle>
      <global name="File" module="OFS.Image"/>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>_EtagSupport__etag</string> </key>
            <value> <string>ts41268195.44</string> </value>
        </item>
        <item>
            <key> <string>__name__</string> </key>
            <value> <string>AddOnManager.js</string> </value>
        </item>
        <item>
            <key> <string>content_type</string> </key>
            <value> <string>application/javascript</string> </value>
        </item>
        <item>
            <key> <string>data</string> </key>
            <value> <string>module("tinymce.AddOnManager", {\n
\tteardown: function() {\n
\t\tUtils.unpatch(tinymce.dom.ScriptLoader.ScriptLoader);\n
\t\ttinymce.AddOnManager.languageLoad = true;\n
\t\ttinymce.AddOnManager.language = \'en\';\n
\t}\n
});\n
\n
test(\'requireLangPack\', function() {\n
\tvar languagePackUrl;\n
\n
\tUtils.patch(tinymce.dom.ScriptLoader.ScriptLoader, \'add\', function(origFunc, url) {\n
\t\tlanguagePackUrl = url;\n
\t});\n
\n
\tfunction getLanguagePackUrl(language, languages) {\n
\t\tlanguagePackUrl = null;\n
\t\ttinymce.AddOnManager.language = language;\n
\t\ttinymce.AddOnManager.PluginManager.requireLangPack(\'plugin\', languages);\n
\t\treturn languagePackUrl;\n
\t}\n
\n
\ttinymce.AddOnManager.PluginManager.urls.plugin = \'/root\';\n
\n
\tequal(getLanguagePackUrl(\'sv_SE\'), \'/root/langs/sv_SE.js\');\n
\tequal(getLanguagePackUrl(\'sv_SE\', \'sv,en,us\'), \'/root/langs/sv.js\');\n
\tequal(getLanguagePackUrl(\'sv_SE\', \'sv_SE,en_US\'), \'/root/langs/sv_SE.js\');\n
\tequal(getLanguagePackUrl(\'sv\'), \'/root/langs/sv.js\');\n
\tequal(getLanguagePackUrl(\'sv\', \'sv\'), \'/root/langs/sv.js\');\n
\tequal(getLanguagePackUrl(\'sv\', \'sv,en,us\'), \'/root/langs/sv.js\');\n
\tequal(getLanguagePackUrl(\'sv\', \'en,sv,us\'), \'/root/langs/sv.js\');\n
\tequal(getLanguagePackUrl(\'sv\', \'en,us,sv\'), \'/root/langs/sv.js\');\n
\tstrictEqual(getLanguagePackUrl(\'sv\', \'en,us\'), null);\n
\tstrictEqual(getLanguagePackUrl(null, \'en,us\'), null);\n
\tstrictEqual(getLanguagePackUrl(null), null);\n
\n
\ttinymce.AddOnManager.languageLoad = false;\n
\tstrictEqual(getLanguagePackUrl(\'sv\', \'sv\'), null);\n
});\n
</string> </value>
        </item>
        <item>
            <key> <string>precondition</string> </key>
            <value> <string></string> </value>
        </item>
        <item>
            <key> <string>size</string> </key>
            <value> <int>1449</int> </value>
        </item>
        <item>
            <key> <string>title</string> </key>
            <value> <string>AddOnManager.js</string> </value>
        </item>
      </dictionary>
    </pickle>
  </record>
</ZopeData>
