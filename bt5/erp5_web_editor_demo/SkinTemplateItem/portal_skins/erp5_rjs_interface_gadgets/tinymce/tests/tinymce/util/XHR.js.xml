<?xml version="1.0"?>
<ZopeData>
  <record id="1" aka="AAAAAAAAAAE=">
    <pickle>
      <global name="File" module="OFS.Image"/>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>_EtagSupport__etag</string> </key>
            <value> <string>ts41268201.17</string> </value>
        </item>
        <item>
            <key> <string>__name__</string> </key>
            <value> <string>XHR.js</string> </value>
        </item>
        <item>
            <key> <string>content_type</string> </key>
            <value> <string>application/javascript</string> </value>
        </item>
        <item>
            <key> <string>data</string> </key>
            <value> <string>if (location.protocol != "file:") {\n
\tmodule("tinymce.util.XHR");\n
\n
\tasyncTest("Successful request", function() {\n
\t\texpect(5);\n
\n
\t\ttinymce.util.XHR.on(\'beforeSend\', function(e) {\n
\t\t\te.xhr.test = 123;\n
\t\t\te.settings.test = 456;\n
\t\t});\n
\n
\t\ttinymce.util.XHR.send({\n
\t\t\turl: \'tinymce/util/json_rpc_ok.js\',\n
\t\t\tsuccess: function(data, xhr, input) {\n
\t\t\t\tequal(tinymce.trim(data), \'{"result": "Hello JSON-RPC", "error": null, "id": 1}\');\n
\t\t\t\tok(!!xhr.status);\n
\t\t\t\tequal(input.url, \'tinymce/util/json_rpc_ok.js\');\n
\t\t\t\tequal(xhr.test, 123);\n
\t\t\t\tequal(input.test, 456);\n
\t\t\t\tstart();\n
\t\t\t}\n
\t\t});\n
\t});\n
\n
\tasyncTest("Unsuccessful request", function() {\n
\t\texpect(3);\n
\n
\t\ttinymce.util.XHR.send({\n
\t\t\turl: \'tinymce/util/404.js\',\n
\t\t\terror: function(type, xhr, input) {\n
\t\t\t\tequal(type, \'GENERAL\');\n
\t\t\t\tok(!!xhr.status);\n
\t\t\t\tequal(input.url, \'tinymce/util/404.js\');\n
\t\t\t\tstart();\n
\t\t\t}\n
\t\t});\n
\t});\n
}\n
</string> </value>
        </item>
        <item>
            <key> <string>precondition</string> </key>
            <value> <string></string> </value>
        </item>
        <item>
            <key> <string>size</string> </key>
            <value> <int>866</int> </value>
        </item>
        <item>
            <key> <string>title</string> </key>
            <value> <string>XHR.js</string> </value>
        </item>
      </dictionary>
    </pickle>
  </record>
</ZopeData>
