[buildout]
parts = oood-instance

[configuration]
openoffice_python = ${software_definition:openoffice_software}/program/python
openoffice_program = ${software_definition:openoffice_software}/program
openoffice_uno = ${software_definition:openoffice_software}/basis-link/program/
oood_conf_file = ${buildout:etc-directory}/oood.conf
oood_log_file = ${buildout:log-directory}/oood.log
oood_run = ${buildout:var-directory}/oood
oood_pid = ${:oood_run}/server_pid.lock
oood_tmp = ${:oood_run}
oood_host = 127.0.0.1
oood_port = 8008
oood_pool_host = localhost
oood_pool_range_start = 4060
oood_instance_load_time = 20
oood_instance_timeout = 360
oood_virtual_display_id = 99

[oood-directories]
recipe = plone.recipe.command
command = mkdir -p ${configuration:oood_run}
update-command = ${:command}

[oood-etc]
recipe = collective.recipe.template
input = ${software_definition:software_home}/templates/oood.conf.in
output = ${configuration:oood_conf_file}

[oood-instance]
depends =
  ${oood-etc:output}
  ${oood-directories:command}
recipe = collective.recipe.template
input = ${software_definition:software_home}/templates/oood-runserw.in
output = ${buildout:data-bin-directory}/oood-runserw

[conversion-server-template]
<= oood-instance

[requirements]
binary = Xvfb
