[buildout]
extends =
  ../software-profiles/garbage-collector.cfg
  ../software-profiles/ncurses.cfg
  ../software-profiles/openssl.cfg
  ../software-profiles/zlib.cfg

parts =
  w3m

[w3m]
recipe = hexagonit.recipe.cmmi
md5sum = ba06992d3207666ed1bf2dcf7c72bf58
url = http://downloads.sourceforge.net/project/w3m/w3m/w3m-0.5.2/w3m-0.5.2.tar.gz
configure-options =
  --with-gc=${garbage-collector:location}
  --with-ssl=${openssl:location}
  --with-termlib=ncurses
  --disable-nls
  --disable-image
  --disable-dict
  --disable-xface
  --disable-mouse
  --disable-nntp
  --disable-help-cgi
  --disable-external-uri-loader
  --disable-w3mmailer

keep-compile-dir = true

environment =
  CPPFLAGS =-I${ncurses:location}/include/ -I${zlib:location}/include/
  LDFLAGS =-L${ncurses:location}/lib -Wl,-rpath -Wl,${garbage-collector:location}/lib -Wl,-rpath -Wl,${ncurses:location}/lib -Wl,-rpath -Wl,${openssl:location}/lib -Wl,-rpath -Wl,${zlib:location}/lib
