[buildout]
parts =
  ffmpeg

[ffmpeg]
<= ffmpeg-0.6.1

[libogg]
recipe = hexagonit.recipe.cmmi
url = http://downloads.xiph.org/releases/ogg/libogg-1.2.2.tar.gz
md5sum = 5a9fcabc9a1b7c6f1cd75ddc78f36c56
configure-options = 
 --disable-shared

[libvorbis]
recipe = hexagonit.recipe.cmmi
url = http://downloads.xiph.org/releases/vorbis/libvorbis-1.3.2.tar.bz2
md5sum = 798a4211221073c1409f26eac4567e8b
configure-options = 
 --disable-shared
environment = 
  CPPFLAGS=-I${libogg:location}/include
  LDFLAGS=-L${libogg:location}/lib -Wl,-rpath -Wl,${libogg:location}/lib

[libtheora]
recipe = hexagonit.recipe.cmmi
url = http://downloads.xiph.org/releases/theora/libtheora-1.1.1.tar.bz2
md5sum = 292ab65cedd5021d6b7ddd117e07cd8e
configure-options = 
 --disable-shared
environment = 
  CPPFLAGS=-I${libogg:location}/include -I${libvorbis:location}/include
  LDFLAGS =-L${libogg:location}/lib -Wl,-rpath -Wl,${libogg:location}/lib -L${libvorbis:location}/lib -Wl,-rpath -Wl,${libvorbis:location}/lib

[ffmpeg-0.6.1]
recipe = hexagonit.recipe.cmmi
url = http://www.ffmpeg.org/releases/ffmpeg-0.6.1.tar.bz2
md5sum = 4f5d732d25eedfb072251b5314ba2093
configure-options =
 --enable-gpl
 --enable-postproc
 --enable-libtheora
environment =
  CPPFLAGS=-I${libogg:location}/include -I${libvorbis:location}/include -I${libtheora:location}/include
  LDFLAGS=-L${libogg:location}/lib -L${libvorbis:location}/lib -L${libtheora:location}/lib
