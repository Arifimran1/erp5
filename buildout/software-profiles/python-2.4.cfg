[buildout]
# http://bluedynamics.com/articles/jens/build-python-in-buildout
# based on https://svn.plone.org/svn/collective/buildout/bda-naked-python/buildout2.4.cfg
python_version = 2.4
parts =
    python
    pythonbin

[python]
recipe = hexagonit.recipe.cmmi
python_version_minor = 6
python_version_full = ${buildout:python_version}.${:python_version_minor}
url =
  http://python.org/ftp/python/${:python_version_full}/Python-${:python_version_full}.tgz
prefix = ${buildout:parts-directory}/python${buildout:python_version}
configure-options =
  --enable-unicode=ucs4
  --with-threads
  --with-readline
  --with-dbm
  --with-zlib
  --with-ssl
  --with-bz2

patches = ${buildout:directory}/patches/python2.4-dbm.patch

[pythonbin]
depends = ${python:recipe}
recipe = plone.recipe.command
command = ln -sf ${software_definition:executable} ${software_definition:software_home}/bin/python${buildout:python_version}

[requirements]
binary =
  g++
  gcc
  make

development =
  /usr/include/bzlib.h
  /usr/include/curses.h
  /usr/include/gdbm.h
  /usr/include/jpeglib.h
  /usr/include/openssl/ssl.h
  /usr/include/termcap.h
  /usr/include/zlib.h
