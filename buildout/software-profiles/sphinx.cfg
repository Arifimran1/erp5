[buildout]
parts = sphinx

[sphinx-1.10-fix_nosigpipe.patch]
recipe = hexagonit.recipe.download
url = http://www.nexedi.org/static/patches/${:filename}
md5sum = fee62e08ff2b4e546a2058225f18e31d
download-only = true
filename = sphinx-1.10-fix_nosigpipe.patch

[sphinx]
recipe = hexagonit.recipe.cmmi
url = http://www.sphinxsearch.com/downloads/sphinx-1.10-beta.tar.gz
md5sum = 5b52ce9e93a73c66d37bc3a2402f14fa
configure-options =
  --with-mysql
  --with-mysql-includes=${mysql-tritonn-5.0:location}/include/mysql
  --with-mysql-libs=${mysql-tritonn-5.0:location}/lib/mysql
  LDFLAGS="-Wl,-rpath ${mysql-tritonn-5.0:location}/lib/mysql"
patch-options = -p1
patches =
  ${sphinx-1.10-fix_nosigpipe.patch:location}/${sphinx-1.10-fix_nosigpipe.patch:filename}
environment =

[requirements]
binary = patch gcc g++
