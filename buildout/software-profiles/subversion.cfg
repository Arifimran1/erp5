[buildout]
extends =
  ../software-profiles/apache.cfg
  ../software-profiles/libdb.cfg
  ../software-profiles/libexpat.cfg
  ../software-profiles/serf.cfg
  ../software-profiles/sqlite3.cfg
  ../software-profiles/zlib.cfg
  ../software-profiles/openssl.cfg
  ../software-profiles/libuuid.cfg
parts =
  subversion

[subversion]
recipe = hexagonit.recipe.cmmi
url = http://subversion.tigris.org/downloads/subversion-1.6.13.tar.bz2
md5sum = 7ae1c827689f21cf975804005be30aeb
configure-options =
  --with-apr=${apache:location}/bin/apr-1-config
  --with-apr-util=${apache:location}/bin/apu-1-config
  --with-apxs=${apache:location}/bin/apxs
  --with-zlib=${zlib:location}
  --with-sqlite=${sqlite3:location}
  --without-berkeley-db
  --without-neon
  --without-ssl
  --without-sasl
  --with-serf=${serf:location}
  --without-apr_memcache
  --without-gnome-keyring
  --without-kwallet
  --without-jdk
  --without-jikes
  --without-swig
  --without-junit
  --without-ctypesgen
  --without-ruby-sitedir
  --without-ruby-test-verbose
  --disable-nls

environment =
  CPPFLAGS=-I${libexpat:location}/include -I${libuuid:location}/include
  LDFLAGS=-L${libexpat:location}/lib -Wl,-rpath -Wl,${zlib:location}/lib -Wl,-rpath -Wl,${sqlite3:location}/lib -Wl,-rpath -Wl,${serf:location}/lib -Wl,-rpath -Wl,${openssl:location}/lib -L${libuuid:location}/lib -Wl,-rpath -Wl,${libuuid:location}/lib
