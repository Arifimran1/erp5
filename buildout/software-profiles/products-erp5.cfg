[buildout]
extends =
  ../software-profiles/subversion.cfg

[products-erp5]
# Recipe infrae.subversion is using svn command under the hood, but there is
# no way to pass --trust-server-cert --non-interactive, so in 2.12 falvour
# it is better to evaluate usage of provided subversion command
recipe = plone.recipe.command
svn_param =--trust-server-cert --non-interactive --quiet --revision ${versions:erp5_products_revision}
location = ${buildout:parts-directory}/${:_buildout_section_name_}
stop-on-error = true
update-command = ${:command}
product_list = AGProjects CMFActivity CMFCategory ERP5 ERP5Catalog ERP5Form ERP5Legacy ERP5OOo ERP5PropertySheetLegacy ERP5Security ERP5SyncML ERP5Type ERP5Wizard ERP5Workflow Formulator HBTreeFolder2 MailTemplates PortalTransforms TimerService ZMySQLDA ZMySQLDDA ZSQLCatalog
command =
  for product in ${:product_list} ; do ${subversion:location}/bin/svn checkout ${:svn_param} https://svn.erp5.org/repos/public/erp5/trunk/products/$product ${:location}/$product || exit 1 ; done

[products-erp5-development]
# Recipe infrae.subversion is using svn command under the hood, but there is
# no way to pass --trust-server-cert --non-interactive, so in 2.12 falvour
# it is better to evaluate usage of provided subversion command
recipe = plone.recipe.command
svn_param =--trust-server-cert --non-interactive --quiet --revision ${versions:erp5_products_revision}
location = ${buildout:parts-directory}/${:_buildout_section_name_}
stop-on-error = true
update-command = ${:command}
product_list = ERP5Subversion
command =
  for product in ${:product_list} ; do ${subversion:location}/bin/svn checkout ${:svn_param} https://svn.erp5.org/repos/public/erp5/trunk/products/$product ${:location}/$product || exit 1 ; done

[products-erp5-development-no-svn]
recipe = hexagonit.recipe.download
url = http://www.erp5.org/dists/snapshot/products/ERP5Subversion.tgz

[products-erp5-no-svn]
recipe = erp5.recipe.multidownload
urls =
  http://www.erp5.org/dists/snapshot/products/AGProjects.tgz
  http://www.erp5.org/dists/snapshot/products/CMFActivity.tgz
  http://www.erp5.org/dists/snapshot/products/CMFCategory.tgz
  http://www.erp5.org/dists/snapshot/products/ERP5.tgz
  http://www.erp5.org/dists/snapshot/products/ERP5Catalog.tgz
  http://www.erp5.org/dists/snapshot/products/ERP5Form.tgz
  http://www.erp5.org/dists/snapshot/products/ERP5Legacy.tgz
  http://www.erp5.org/dists/snapshot/products/ERP5OOo.tgz
  http://www.erp5.org/dists/snapshot/products/ERP5Security.tgz
  http://www.erp5.org/dists/snapshot/products/ERP5SyncML.tgz
  http://www.erp5.org/dists/snapshot/products/ERP5Type.tgz
  http://www.erp5.org/dists/snapshot/products/ERP5Workflow.tgz
  http://www.erp5.org/dists/snapshot/products/Formulator.tgz
  http://www.erp5.org/dists/snapshot/products/HBTreeFolder2.tgz
  http://www.erp5.org/dists/snapshot/products/MailTemplates.tgz
  http://www.erp5.org/dists/snapshot/products/PortalTransforms.tgz
  http://www.erp5.org/dists/snapshot/products/TimerService.tgz
  http://www.erp5.org/dists/snapshot/products/ZMySQLDA.tgz
  http://www.erp5.org/dists/snapshot/products/ZMySQLDDA.tgz
  http://www.erp5.org/dists/snapshot/products/ZSQLCatalog.tgz
