<html metal:use-macro="here/main_template/macros/master">
  <head>
    <title tal:content="template/title">The title</title>
  </head>
  <body>

    <div metal:fill-slot="main"
         tal:define="dummy python:request.set('quantity',1);
                     dummy python:request.set('product_path',here.product_path);
                     show_language_selector python:0;
                     show_breadcrumb python:0;
                     mtool here/portal_membership;
                     member mtool/getAuthenticatedMember;
                     ptool here/portal_properties">

      <h1 i18n:translate="">Custommer Registration</h1>

      <table>
       <tr>
        <td valign="top">
         <h2 i18n:translate="">New Custommers</h2>

         <p i18n:translate="">If you are a new custommer, please provide bellow your
       personal information in order to let us identify you.</p>

      <form method="POST" action="register_and_addToCart">
     


      <span tal:repeat="item python:('color',
       'quantity','product_path','processor','memory','disk','drive','setup',
      'fs','root_partition','boot_partition','usr_partition','home_partition',
      'var_partition','swap_partition','tmp_partition','free_partition', 'config_url',
      'support','monitoring','backup','archive','hosting','keyboard')">
      <input type="hidden" name="" value=""
          tal:attributes="name item;
                          value python:getattr(request,item,'')">
      </span>

      <span tal:repeat="item python:here.getOptionValues('Option')">
        <input type="hidden" name=""
         value=""
         tal:attributes="name python:'option_%s' % repeat.item.number;
                         value item"
         tal:condition="python:request.has_key('option_%s' % repeat.item.number)">
      </span>


      <input type="hidden" name="last_visit:date" value=""
          tal:attributes="value here/ZopeTime">
       <input type="hidden" name="prev_visit:date" value=""
          tal:attributes="value here/ZopeTime">

        <table class="FormLayout">

          <tr>
           <th i18n:translate=""> Login Name </th>
           <td>
            <input type="text" name="username" size="30" value=""
                   tal:attributes="value request/username|nothing">
           </td>
          </tr>

          <tr>
           <th i18n:translate=""> Email Address </th>
           <td align="left" valign="top">
            <input type="text" name="email" size="30" value=""
                tal:attributes="value request/email|nothing">
           </td>
          </tr>

         <tbody tal:condition="python: not(ptool.validate_email)">

          <tr>
           <th i18n:translate=""> Password </th>
           <td align="left" valign="top">
            <input type="password" name="password" size="30">
           </td>
          </tr>

          <tr>
           <th i18n:translate=""> Password (confirm) </th>
           <td align="left" valign="top">
            <input type="password" name="confirm" size="30">
           </td>
          </tr>

          <tr>
           <th i18n:translate=""> Mail Password?  </th>
           <td>
            <input type="checkbox" name="mail_me" size="30" id="cb_mailme" />
            <em><label for="cb_mailme" i18n:translate="">Check this box to have your password
                                       mailed to you.</label></em>
           </td>
          </tr>
         </tbody>


         </table>

         <p align="center"><input type="submit" value=""
                tal:attributes="value python:here.gettext.gettext('Register & Add to Cart')"
              ></p>
         </form>

        </td>
        <td valign="top">
         <h2 i18n:translate="">Existing Custommers</h2>

         <p i18n:translate="">If you are a registered custommer, please provide your user
       login and password in order to proceed.</p>

      <form method="POST" action="login_and_addToCart">

      <span tal:repeat="item python:('color',
       'quantity','product_path','processor','memory','disk','drive','setup',
      'fs','root_partition','boot_partition','usr_partition','home_partition',
      'var_partition','swap_partition','tmp_partition','free_partition', 'config_url',
      'support','monitoring','backup','archive','hosting','keyboard')">
      <input type="hidden" name="" value=""
          tal:attributes="name item;
                          value python:getattr(request,item,'')">
      </span>

      <span tal:repeat="item python:here.getOptionValues('Option')">
        <input type="hidden" name=""
         value=""
         tal:attributes="name python:'option_%s' % repeat.item.number;
                         value item"
         tal:condition="python:request.has_key('option_%s' % repeat.item.number)">
      </span>


      <table class="FormLayout">
      <tr>
        <td align="left" valign="top">
        <strong>Name</strong>
        </td>
        <td align="left" valign="top">
        <input type="TEXT" name="__ac_name" size="20" value="" tal:attributes="value python: request.get('__ac_name') or ''">
        </td>
      </tr>
      <tr>
        <td align="left" valign="top">
        <strong>Password</strong>
        </td>
        <td align="left" valign="top">
        <input type="PASSWORD" name="__ac_password" size="20">
        </td>
      </tr>

      <tr valign="top" align="left">
      <td></td>
      <td><input type="checkbox" name="__ac_persistent" value="1" checked
            id="cb_remember" />
      <label for="cb_remember">Remember my name.</label>
      </td></tr>

      </table>

         <p align="center"><input type="submit" value=""
                tal:attributes="value python:here.gettext.gettext('Login & Add to Cart')"
              ></p>


         </form>
        </td>
       </tr>
      </table>


    </div>
  </body>
</html>

