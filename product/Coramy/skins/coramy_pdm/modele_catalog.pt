<HTML>
  <HEAD>
    <meta http-equiv="content-type" content="text/html;charset=ISO-8859-1">
    <title tal:content="here/getTitle">Coramy</title>
    <link rel=stylesheet type="text/css" href="modele_catalog_c">
  </HEAD>
  <BODY>
  <SPAN tal:define="modele_list python:here.object_action_list(selection_name='modele_selection',max_nb=20)">
    <TABLE tal:repeat="modele modele_list" width="660" height="955"  cellpadding="0" cellspacing="0" class="PageA4">
      <SPAN tal:define="forme python:modele.getDefaultValue('specialise',portal_type=['Forme']);
                    variantes_coloris_list python:modele.sort_object_list(unordered_list=modele.contentValues(filter={'portal_type':'Variante Modele'}),
                    sort_order = (('prototype', 'DESC'),('id', 'ASC'),) );
                    
                    correspondance_tailles python:modele.getDefaultValue('specialise',portal_type=['Correspondance Tailles']);
                    correspondance_mesures python:modele.getDefaultValue('specialise',portal_type=['Correspondance Mesures']);
                    col_nb python:3;
                    lin_nb python:3;
                    nb_coloris python:len(variantes_coloris_list);
                    ">
      <TR>
        <TD colspan="2"><!-- Entete -->
	  <TABLE width="100%">
	    <TR>
	      <TD class="Titre" width="30%"><p tal:repeat="eip modele/getEipList"><span tal:replace="eip"></span></p></TD>
	      <TD width="30%">&nbsp;</TD>
	      <TD width="40%" class="Client" tal:content="modele/getDefaultDestinationTitle">Client</TD>
	    </TR>
	    <TR>
	      <TD></TD>
	      <TD class="Titre" tal:content="modele/getDestinationReference">ref client</TD>
	      <TD></TD>
	    </TR>
	  </TABLE><br>
	</TD>
      </TR>
      <TR>
        <TD width="50%" valign="top"><!-- Tailles & composition -->
          <br><br><br>
          
	  <TABLE border="1"  width="100%" tal:define="tailles python:modele.bareme_mesures_tailles_list(correspondance_tailles)">
	    <TR class="Titre2">
	      <TD tal:attributes="colspan python:len(tailles[1])"><b>SIZES</b></TD>
	    </TR>
            <TR>
	      <TD tal:repeat="index python:range(len(tailles[1]))"
                tal:content="python:tailles[1][index]">36</TD><!-- BOUCLE SUR LE NB DE TAILLES -->
	    </TR>
	  </TABLE><br><br>
          <TABLE border="1"  width="100%" >
	    <TR class="Titre2">
	      <TD><b>COMPOSITION</b></TD>
            </TR>
            <TR>
	      <TD tal:content="modele/getComposition"></TD>
	    </TR>
	  </TABLE><br><br>
          <TABLE border="1"  width="100%">
	    <TR class="Titre2">
	      <TD><b>DESCRIPTION</b></TD>
            </TR>
            <TR>
	      <TD tal:content="modele/getDescription"></TD>
	    </TR>
	  </TABLE>
          
	</TD>
	<TD align="center"><!-- Col. principal, prototype -->
           <img src=""
                tal:attributes="src python:'%s?display=small&format=jpeg&resolution=300' % variantes_coloris_list[0].getPath()" /><br>
            <span class="Compo" tal:content="python:variantes_coloris_list[0].getDestinationReference()" />  
        </TD>
      </TR>
      <TR>
        <TD colspan="2"><!-- Autres coloris -->
	  <TABLE  width="100%">
          <SPAN tal:repeat="i python:range(lin_nb)">
	    <TR >
            <SPAN tal:repeat="j python:range(col_nb)">
            <SPAN tal:condition="python:(i*col_nb)+j+1<nb_coloris">
	      <TD align="center" tal:define="variante_coloris python:variantes_coloris_list[(i*col_nb)+j+1]">
                <img src=""
                tal:attributes="src python:'%s?display=small&format=jpeg&resolution=150' % variante_coloris.getPath()" width="35%"/><br>
                  <span class="Compo" tal:content="python:variante_coloris.getDestinationReference()" /> 
              </TD>
            </SPAN> 
	    </SPAN>
	    </TR>
	  </SPAN>
	  </TABLE>
	</TD>
      </TR>
      <TR height="100%">
        <TD/>
      </TR>
      </SPAN>
    </TABLE>
    </SPAN>
  </BODY>
</HTML>
