<?xml version="1.0"?>
<ZopeData>
  <record id="1" aka="AAAAAAAAAAE=">
    <pickle>
      <tuple>
        <tuple>
          <string>Products.PageTemplates.ZopePageTemplate</string>
          <string>ZopePageTemplate</string>
        </tuple>
        <none/>
      </tuple>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>__ac_local_roles__</string> </key>
            <value>
              <none/>
            </value>
        </item>
        <item>
            <key> <string>_bind_names</string> </key>
            <value>
              <object>
                <klass>
                  <global name="NameAssignments" module="Shared.DC.Scripts.Bindings"/>
                </klass>
                <tuple/>
                <state>
                  <dictionary>
                    <item>
                        <key> <string>_asgns</string> </key>
                        <value>
                          <dictionary>
                            <item>
                                <key> <string>name_subpath</string> </key>
                                <value> <string>traverse_subpath</string> </value>
                            </item>
                          </dictionary>
                        </value>
                    </item>
                  </dictionary>
                </state>
              </object>
            </value>
        </item>
        <item>
            <key> <string>_owner</string> </key>
            <value>
              <none/>
            </value>
        </item>
        <item>
            <key> <string>_text</string> </key>
            <value> <string encoding="cdata"><![CDATA[

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"\n
 "DTD/xhtml1-strict.dtd">\n
<?xml-stylesheet href="erp5.css" rel="stylesheet" type="text/css"?>\n
\n
<span tal:replace="nothing">\n
<!--\n
Copyright (c) 2002 Nexedi SARL and Contributors. All Rights Reserved.\n
\n
This program is Free Software; you can redistribute it and/or\n
modify it under the terms of the GNU General Public License\n
as published by the Free Software Foundation; either version 2\n
of the License, or (at your option) any later version.\n
\n
This program is distributed in the hope that it will be useful,\n
but WITHOUT ANY WARRANTY; without even the implied warranty of\n
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n
GNU General Public License for more details.\n
\n
You should have received a copy of the GNU General Public License\n
along with this program; if not, write to the Free Software\n
Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n
-->\n
</span>\n
\n
<html xmlns="http://www.w3.org/1999/xhtml" lang="en"\n
      xml:lang="en"\n
      xmlns:tal="http://xml.zope.org/namespaces/tal"\n
      xmlns:metal="http://xml.zope.org/namespaces/metal"\n
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"\n
      metal:define-macro="master">\n
\n
  <!-- declaring scripting based on the JavaScript Language -->\n
  <script language="JavaScript" src="erp5.js"\n
          tal:attributes="src python:\'%s/erp5.js\' % here.portal_url()">\n
  </script>\n
  <script type="text/javascript" src="wz_dragdrop.js" tal:attributes="src python:\'%s/wz_dragdrop.js\' % here.portal_url()">\n
  </script>\n
\n
  <!-- HEAD -->\n
  <head tal:define="dummy python:request.RESPONSE.setHeader(\'Content-Type\', \'text/html;; charset=utf-8\')">\n
    <meta name="description" content="Generated by view_master" />\n
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\n
    <title tal:content="python:\'%s - %s\' % (here.Localizer.erp5_ui.gettext(template.title_or_id()),\n
         here.Localizer.erp5_content.gettext(here.getTitleOrId()))"> The title </title>\n
\n
    <!-- adding special CSS for page and fields class-->\n
    <span tal:define="object_name form/title;\n
                      object_name python:object_name.replace(\' \',\'\');\n
                      portal_url here/portal_url;\n
                      object_name string:${object_name}">\n
        <link href="my_css" rel="stylesheet" type="text/css" group="test"\n
              tal:attributes="href string:${object_name}_css.css"/>\n
    </span>\n
\n
    <!-- standard instance of CSS field class.\n
         \'erp5_html.css\' is a bit different from \'erp5.css\' because it does\n
         ot include \'main\' and \'input\' class. The special CSS file declared\n
         just before aim these class\n
         UPDATED : file \'erp5_html.css\' has a special class \'.my_span\' to\n
         define good span properties (otherwize display is ugly) -->\n
    <link href="erp5.css" rel="stylesheet" type="text/css"\n
         tal:attributes="href python: here.portal_url() + \'/\' + \'erp5_html.css\'" />\n
\n
    <!-- taking \'planning_box\' in charge if exists -->\n
    <tal:block tal:condition="exists: python:form.get_field(\'planning_box\')" tal:on-error="nothing">\n
       <tal:block tal:define="planning_box1 python:form.get_field(\'planning_box\');dummy python:request.set(\'here\',here)" >\n
          <style tal:content="structure python: planning_box1.render_css(None,REQUEST=request)"/>\n
       </tal:block>\n
    </tal:block>\n
  </head>\n
\n
\n
  <!-- BODY -->\n
  <body LEFTMARGIN=0 TOPMARGIN=0 MARGINHEIGHT="0" MARGINWIDTH="0">\n
\n
\n
   <form action="Test" name="main_form" id="main_form"\n
      tal:attributes="action here/absolute_url;\n
                      method form/method | python:\'post\';\n
                      enctype form/enctype | python:\'multipart/form-data\'"\n
      method="post"\n
        enctype="multipart/form-data" >\n
    <div metal:use-macro="here/global_definition/macros/global_definition" />\n
    <input type="hidden" name="form_id" value="form"\n
       tal:attributes="value form/id | template/id | script/id">\n
    <input type="hidden" name="object_uid" value="uid"\n
       tal:attributes="value here/getUid">\n
    <input type="hidden" name="object_path" value="path"\n
       tal:attributes="value here/getPath">\n
    <!-- Menu Boxes -->\n
    <table cellpadding="0" cellspacing="0" width="100%">\n
      <tr>\n
        <td nowrap>\n
          <!-- Navigation Box Goes Here -->\n
          <div class="NavigationBox">\n
            <div metal:use-macro="here/navigation_box/macros/navigation_box"\n
              >Navigation Box</div>\n
          </div>\n
        </td>\n
      </tr>\n
      <tr>\n
        <td valign="middle" >\n
          <!-- Menu Box Goes Here -->\n
          <div class="MenuBox">\n
            <span\n
             metal:use-macro="here/view_menu_box/macros/menu_box">\n
             Menu Box\n
            </span>\n
          </div>\n
        </td>\n
      </tr>\n
    </table>\n
    <!-- Breadcrumb, owner and date-->\n
    <div class="Breadcrumb">\n
      <span metal:use-macro="here/breadcrumb/macros/full_breadcrumb">\n
        Breadcrumb\n
      </span>\n
    </div>\n
    <!-- Optional Portal Status Message -->\n
    <div class="Main"\n
       tal:condition="request/portal_status_message | nothing">\n
     <table><tr><td class="error"\n
                    tal:content="request/portal_status_message">\n
            </td></tr>\n
     </table>\n
    </div>\n
    <!-- Main -->\n
      <table border="0" cellpadding="0" cellspacing="0" width="99%" >\n
        <tr>\n
          <td width="5" class="OutMain">\n
            <img src="/images/erp5_html_style/images/spacer.png"\n
                 width="5" height="5" border="0"\n
                 tal:attributes="src string:$portal_url/images/spacer.png"/>\n
          </td>\n
          <td>\n
            <table border="0" cellpadding="0" cellspacing="0" width="100%">\n
              <tr>\n
                <td width="100%">\n
                  <table border="0" cellpadding="0" cellspacing="0"\n
                       width="100%">\n
                    <tr>\n
                      <td width="100%" class="OutMain">\n
                        <!-- View Selection Menu goes here -->\n
                        <span\n
                           metal:use-macro="here/view_selection_box/macros/view_selection_box">\n
                           View selection bar\n
                        </span>\n
                      </td>\n
                    </tr>\n
                  </table>\n
                </td>\n
              </tr>\n
              <tr>\n
              <!-- Main Content -->\n
                <td width="100%" class="MainContent">\n
                  <span tal:define="groups python: form.get_groups(include_empty=1);\n
                                    field_errors python: request.get(\'field_errors\',{});\n
                                    dummy python: request.set(\'here\',here);\n
                                    object_name form/title;\n
                                    object_name python:object_name.replace(\' \',\'\')"\n
                        tal:omit-tag=""> <span tal:replace="nothing">\n
                    <!-- get a page (i.e entering group) --></span>\n
                    <span tal:repeat="pagenum python:range(len(groups))"\n
                          class=my_span\n
                          tal:omit-tag="">\n
                       <div\n
                               class="my_page_class"\n
                               tal:attributes="class string:page_${pagenum}">\n
                          <img src="test_object_page_0.png"\n
                               alt="background"\n
                               class="page_0_background"\n
                               tal:attributes="src string:${object_name}_background_${pagenum};\n
                                               class string:page_${pagenum}_background"/>\n
                          <span tal:replace="nothing" class=my_span>\n
                               page is not empty (there is at least one element)\n
                               considering class = \'page_\' + pagenum\n
\n
                          </span><span tal:repeat="field python:form.get_fields_in_group(groups[pagenum])"\n
                                class=my_span\n
                                tal:omit-tag="">\n
                          <span tal:replace="nothing"> get a field\n
                          </span><span tal:condition="python:field.meta_type != \'HiddenStringField\'"\n
                                  tal:define="name python:str(field.id);\n
                                              value python:request.get(field.id,None)"\n
                                  class=my_span\n
                                  tal:omit-tag=""> <span tal:replace="nothing">\n
\n
                                  \'value\' recovered, just need to paste object-input.\n
                                  class property has been updated to comply with css class declared\n
                                  at the begining of the document, and title is placed to help user\n
                                  in filling the fields (browser automatically popup the name when\n
                                  cursor is left over the field.\n
                                  considering class = field.id</span>\n
                              <div tal:condition="python: field_errors.has_key(field.id)">\n
                              <span tal:replace="structure python:field.render(value,request)"\n
                                    tal:attributes="class string:${name}_error;\n
                                                    title string:${field/title}_ERROR"/>\n
\n
                              <span tal:condition="python: field_errors.has_key(field.id)"\n
                                 tal:content="python: field_errors[field.id].error_text"\n
                                 tal:attributes="class string:${name}_error_display"\n
                                 i18n:translate="" i18n:domain="ui">\n
                              </span>\n
                              </div>\n
                              <div tal:condition="python: (not field_errors.has_key(field.id))">\n
                              <span tal:replace="structure python:field.render(value,request)"\n
                                    tal:attributes="class string:${name};\n
                                                    title field/title"/>\n
                              </div>\n
                            </span>\n
                          </span>\n
                          <br/>\n
                          <br/>\n
\n
                       </div>\n
                       <span tal:replace="nothing">\n
                            this test is needed to add a content after the last page\n
                            displayed to be sure it is well displayed under konqueror\n
                            (Mozilla does not have this kind of problem)\n
                       </span>\n
                       <div tal:condition="python:pagenum==(len(groups)-1)"\n
                            tal:attributes="class string:page_end">\n
                            <b></b>\n
                       </div>\n
                    </span>\n
                  </span>\n
                </td>\n
              </tr>\n
            </table>\n
          </td>\n
          <td width="1" class="OutMain"><img src="/images/erp5_html_style/images/spacer.png"\n
                     width="1" height="1" border="0" alt="img"\n
                     tal:attributes="src string:${portal_url}/images/spacer.png"/>\n
          </td>\n
        </tr>\n
      </table>\n
    </form>\n
  </body>\n
</html>

]]></string> </value>
        </item>
        <item>
            <key> <string>content_type</string> </key>
            <value> <string>text/html</string> </value>
        </item>
        <item>
            <key> <string>expand</string> </key>
            <value> <int>0</int> </value>
        </item>
        <item>
            <key> <string>id</string> </key>
            <value> <string>form_html</string> </value>
        </item>
        <item>
            <key> <string>title</string> </key>
            <value> <string></string> </value>
        </item>
      </dictionary>
    </pickle>
  </record>
</ZopeData>
